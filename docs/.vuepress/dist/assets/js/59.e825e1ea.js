(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1522:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("è½¯ä»¶ä¸šçš„äººä¹äºåšè¿™æ ·çš„äº‹ â€”â€” æ‰¾ä¸€äº›è¯æ±‡ï¼Œå¹¶æŠŠå®ƒä»¬å¼•ç”³åˆ°å¤§é‡å¾®å¦™è€Œåˆäº’ç›¸çŸ›ç›¾çš„æ„ä¹‰ï¼Œä¾‹å¦‚â€œæ¶æ„â€")]),s._v(" "),t("p",[s._v("ã€ŠPatterns of Enterprise Application Architectureã€‹")])]),s._v(" "),t("h2",{attrs:{id:"åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°"}},[s._v("#")]),s._v(" åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°")]),s._v(" "),t("p",[s._v("åˆ†å¸ƒå¼ç³»ç»Ÿçš„å®šä¹‰ï¼šå¤šä¸ªè®¡ç®—æœºé€šè¿‡ç½‘ç»œååŒå·¥ä½œè€Œå¯¹å¤–è¡¨ç°ä¸ºä¸€ä¸ªæ•´ä½“")]),s._v(" "),t("p",[s._v("å…¸å‹åº”ç”¨")]),s._v(" "),t("ul",[t("li",[s._v("åˆ†å¸ƒå¼æ•°æ®åº“ï¼ˆå¦‚ MongoDBã€HBaseï¼‰")]),s._v(" "),t("li",[s._v("åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆå¦‚ Hadoop HDFSã€Cephï¼‰")]),s._v(" "),t("li",[s._v("åˆ†å¸ƒå¼è®¡ç®—ï¼ˆå¦‚ Sparkã€Flinkï¼‰")]),s._v(" "),t("li",[s._v("å¾®æœåŠ¡æ¶æ„ï¼ˆå¦‚ Spring Cloudã€Dubboï¼‰")])]),s._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿ"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿ")]),s._v(" "),t("p",[s._v("è¦è§£é‡Šä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¾—ä»åˆ†å¸ƒå¼æ¶æ„è¯´èµ·ï¼Œå®ƒå®šä¹‰äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°æ–¹æ³•ï¼Œå®ƒæè¿°äº†ç³»ç»Ÿçš„ç»“æ„ã€ç»„ä»¶å¦‚ä½•äº¤äº’ã€æ•°æ®å¦‚ä½•å­˜å‚¨ã€è®¡ç®—å¦‚ä½•åˆ†é…ç­‰ã€‚å¯ä»¥è¯´ï¼Œæ¶æ„æ˜¯é’¢ç­‹ï¼Œè€Œç³»ç»Ÿæ˜¯æ¥¼æˆ¿ï¼Œç³»ç»Ÿä¾èµ–äºæ¶æ„")]),s._v(" "),t("p",[s._v("å¸¸è§çš„åˆ†å¸ƒå¼æ¶æ„æ¨¡å¼")]),s._v(" "),t("ol",[t("li",[s._v("ä¸»ä»æ¶æ„ï¼ˆMaster-Slaveï¼‰ï¼šé€‚ç”¨äºæ•°æ®åº“è¯»å†™åˆ†ç¦»ï¼Œå¦‚ MySQL ä¸»ä»å¤åˆ¶")]),s._v(" "),t("li",[s._v("åˆ†ç‰‡æ¶æ„ï¼ˆShardingï¼‰ï¼šé€‚ç”¨äºé«˜å¹¶å‘åœºæ™¯ï¼Œå¦‚ Elasticsearch æ•°æ®åˆ†ç‰‡")]),s._v(" "),t("li",[s._v("å¾®æœåŠ¡æ¶æ„ï¼ˆMicroservicesï¼‰ï¼šé€‚ç”¨äºä¼ä¸šçº§åº”ç”¨ï¼Œå¦‚ Spring Cloud/Dubbo")]),s._v(" "),t("li",[s._v("äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDA, Event-Driven Architectureï¼‰ï¼šé€‚ç”¨äºé«˜ååä¸šåŠ¡ï¼Œå¦‚ Kafka æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†æ—¥å¿—æµ")])]),s._v(" "),t("p",[s._v("åœ¨è¿™äº›æ¶æ„æ¨¡å¼ä¹‹ä¸Šï¼Œæ„å»ºäº†ä¸€ä¸ªä¸ªæ‰€è°“çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚æœ€å¸¸è§çš„åº”ç”¨æ·˜å®ã€äº¬ä¸œç­‰ï¼Œéƒ½æ˜¯é‡‡ç”¨"),t("strong",[s._v("å¾®æœåŠ¡æ¶æ„")]),s._v("çš„åˆ†å¸ƒå¼ç³»ç»Ÿ")]),s._v(" "),t("p",[s._v("é€šå¸¸ï¼ŒSpring å°å­ï¼ˆæ²¡é”™å°±æ˜¯æˆ‘ï¼‰å¼€å‘çš„æ‰€è°“åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œéƒ½æ˜¯æŒ‡çš„å¾®æœåŠ¡æ¶æ„ï¼ˆSpring Cloudï¼‰ä¸Šçš„åˆ†å¸ƒå¼ç³»ç»Ÿ")]),s._v(" "),t("h3",{attrs:{id:"ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¾è®¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¾è®¡"}},[s._v("#")]),s._v(" ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¾è®¡")]),s._v(" "),t("p",[s._v("åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒç‰¹ç‚¹")]),s._v(" "),t("ul",[t("li",[s._v("å¤šæœºåä½œï¼šä»»åŠ¡ç”±å¤šä¸ªè®¡ç®—æœºåä½œå®Œæˆï¼Œè€Œéå•æœºå¤„ç†")]),s._v(" "),t("li",[s._v("æ•°æ®å…±äº«ï¼šä¸åŒèŠ‚ç‚¹ä¹‹é—´å…±äº«æ•°æ®ï¼Œå¯èƒ½æ¶‰åŠæ•°æ®ä¸€è‡´æ€§é—®é¢˜")]),s._v(" "),t("li",[s._v("å»ä¸­å¿ƒåŒ–ï¼šé¿å…å•ç‚¹æ•…éšœï¼Œæé«˜ç³»ç»Ÿå¯ç”¨æ€§")]),s._v(" "),t("li",[s._v("å¹¶å‘æ€§ï¼šå¤šä¸ªèŠ‚ç‚¹å¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œæé«˜ååé‡")]),s._v(" "),t("li",[s._v("å®¹é”™èƒ½åŠ›ï¼šæŸäº›èŠ‚ç‚¹å®•æœºæ—¶ï¼Œç³»ç»Ÿä»èƒ½ç»§ç»­è¿è¡Œ")])]),s._v(" "),t("p",[s._v("è¯´ç™½äº†ï¼Œå°±æ˜¯æ‰©å±•æ€§å¥½ã€ç¨³å®šæ€§é«˜ã€å®¹é”™å¼º â€”â€” æ‰€è°“â€œç‹¡å…”ä¸‰çªŸâ€")]),s._v(" "),t("h2",{attrs:{id:"å¾®æœåŠ¡æ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡æ¶æ„"}},[s._v("#")]),s._v(" å¾®æœåŠ¡æ¶æ„")]),s._v(" "),t("h3",{attrs:{id:"spring-cloud"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud"}},[s._v("#")]),s._v(" Spring Cloud")]),s._v(" "),t("p",[s._v("åˆšåˆšä¹Ÿè¯´åˆ°ï¼ŒSpring Cloud æ˜¯ Java ç”Ÿæ€ä¸­æœ€æˆç†Ÿçš„"),t("strong",[s._v("å¾®æœåŠ¡æ¶æ„")]),s._v("è§£å†³æ–¹æ¡ˆä¹‹ä¸€")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("å¾®æœåŠ¡æ¶æ„ï¼ˆMicroservices Architectureï¼‰")]),s._v(" æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå®ƒå°†åº”ç”¨æ‹†åˆ†ä¸º"),t("strong",[s._v("å¤šä¸ªç‹¬ç«‹è¿è¡Œçš„æœåŠ¡")]),s._v("ï¼Œæ¯ä¸ªæœåŠ¡è´Ÿè´£å•ä¸€ä¸šåŠ¡åŠŸèƒ½ï¼ŒæœåŠ¡ä¹‹é—´é€šè¿‡ APIï¼ˆé€šå¸¸æ˜¯ HTTP+JSON æˆ– gRPCï¼‰è¿›è¡Œé€šä¿¡")])]),s._v(" "),t("p",[s._v("Spring Cloud å°±æ˜¯ä¸“é—¨ç”¨äº"),t("strong",[s._v("æ„å»ºã€ç®¡ç†å’Œç»´æŠ¤å¾®æœåŠ¡æ¶æ„")]),s._v("çš„æ¡†æ¶ï¼Œæä¾›äº†ä¸€æ•´å¥—å®Œæ•´çš„å¾®æœåŠ¡æ¶æ„è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–"),t("strong",[s._v("æœåŠ¡æ³¨å†Œå‘ç°ã€è´Ÿè½½å‡è¡¡ã€é…ç½®ç®¡ç†ã€ç†”æ–­é™æµã€åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª")]),s._v("ç­‰å…³é”®åŠŸèƒ½")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("ç»„ä»¶")]),s._v(" "),t("th",[s._v("ä½œç”¨")]),s._v(" "),t("th",[s._v("å…·ä½“è€Œè¨€")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Spring Cloud Eureka")]),s._v(" "),t("td",[s._v("æœåŠ¡æ³¨å†Œä¸å‘ç°")]),s._v(" "),t("td",[s._v("è´Ÿè´£ç®¡ç†å¾®æœåŠ¡å®ä¾‹ï¼Œç±»ä¼¼äº DNS")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud LoadBalancer")]),s._v(" "),t("td",[s._v("è´Ÿè½½å‡è¡¡")]),s._v(" "),t("td",[s._v("è®©å¤šä¸ªå®ä¾‹å‡è¡¡æ¥æ”¶è¯·æ±‚")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud OpenFeign")]),s._v(" "),t("td",[s._v("æœåŠ¡è°ƒç”¨")]),s._v(" "),t("td",[s._v("é€šè¿‡ HTTP è¿œç¨‹è°ƒç”¨å…¶ä»–å¾®æœåŠ¡")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud Gateway")]),s._v(" "),t("td",[s._v("API ç½‘å…³")]),s._v(" "),t("td",[s._v("ç»Ÿä¸€æµé‡å…¥å£ï¼Œè·¯ç”±è¯·æ±‚å¹¶æä¾›å®‰å…¨æ§åˆ¶")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud Config")]),s._v(" "),t("td",[s._v("é…ç½®ç®¡ç†")]),s._v(" "),t("td",[s._v("ç»Ÿä¸€ç®¡ç†åˆ†å¸ƒå¼ç³»ç»Ÿçš„é…ç½®")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud Sleuth & Zipkin")]),s._v(" "),t("td",[s._v("åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª")]),s._v(" "),t("td",[s._v("ç›‘æ§è¯·æ±‚çš„è°ƒç”¨é“¾è·¯ï¼Œæ’æŸ¥æ€§èƒ½ç“¶é¢ˆ")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud Resilience4J")]),s._v(" "),t("td",[s._v("ç†”æ–­é™æµ")]),s._v(" "),t("td",[s._v("ä¿æŠ¤æœåŠ¡é¿å…é›ªå´©æ•ˆåº”ï¼ˆCircuit Breakerï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("Spring Cloud Stream")]),s._v(" "),t("td",[s._v("æ¶ˆæ¯é˜Ÿåˆ—")]),s._v(" "),t("td",[s._v("è®©æœåŠ¡é—´å¼‚æ­¥é€šä¿¡ï¼ˆæ”¯æŒ Kafkaã€RabbitMQï¼‰")])])])]),s._v(" "),t("p",[s._v("SpringCloud ä¸»è¦åŸºäº SpringBoot")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ä¸ªç»å…¸çš„-spring-cloud-æ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ä¸ªç»å…¸çš„-spring-cloud-æ¶æ„"}},[s._v("#")]),s._v(" ä¸€ä¸ªç»å…¸çš„ Spring Cloud æ¶æ„")]),s._v(" "),t("p",[s._v("å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”µå•†ç³»ç»Ÿï¼ŒåŒ…å«")]),s._v(" "),t("ul",[t("li",[s._v("ç”¨æˆ·æœåŠ¡ï¼ˆUser Serviceï¼‰")]),s._v(" "),t("li",[s._v("è®¢å•æœåŠ¡ï¼ˆOrder Serviceï¼‰")]),s._v(" "),t("li",[s._v("å•†å“æœåŠ¡ï¼ˆProduct Serviceï¼‰")]),s._v(" "),t("li",[s._v("æ”¯ä»˜æœåŠ¡ï¼ˆPayment Serviceï¼‰")]),s._v(" "),t("li",[s._v("ç½‘å…³ï¼ˆGatewayï¼‰")])]),s._v(" "),t("p",[s._v("å…¶ä½“ç³»æ¶æ„å¦‚ä¸‹")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("                         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------------------+")]),s._v("\n                         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Spring Cloud Gateway  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n                         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------------------+")]),s._v("\n                                 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------------+------------------+")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------+      +------------+      +------------+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ç”¨æˆ·æœåŠ¡    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" è®¢å•æœåŠ¡    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" å•†å“æœåŠ¡    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--\x3e | (Order)    | <--\x3e | (Product)  |")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------+      +------------+      +------------+")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------------+")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------+                      +----------------+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" æ”¯ä»˜æœåŠ¡    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" æ¶ˆæ¯é˜Ÿåˆ—"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Kafka"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Payment"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------------\x3e | äº‹ä»¶é©±åŠ¨        |")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------+                      +----------------+")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("åœ¨è¿™ä¸ªæ¶æ„ä¸­")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Spring Cloud Gateway")]),s._v(" å……å½“ API å…¥å£ï¼Œç®¡ç†æ‰€æœ‰ HTTP è¯·æ±‚")]),s._v(" "),t("li",[t("strong",[s._v("Eureka")]),s._v(" ä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œè´Ÿè´£ç®¡ç†æ‰€æœ‰å¾®æœåŠ¡å®ä¾‹ï¼Œå®ç°"),t("strong",[s._v("æœåŠ¡å‘ç°")])]),s._v(" "),t("li",[t("strong",[s._v("Feign")]),s._v(" è®©æœåŠ¡ä¹‹é—´å¯ä»¥æ›´ä¼˜é›…åœ°ç›¸äº’è°ƒç”¨ï¼ˆç›´æ¥ä» Eureka ä¸­å¯»æ‰¾ï¼‰ï¼Œè€Œä¸ç”¨è‡ªå·±å†™ HTTP è¯·æ±‚")]),s._v(" "),t("li",[t("strong",[s._v("Resilience4J")]),s._v(" ç¡®ä¿æœåŠ¡æ•…éšœæ—¶è‡ªåŠ¨ç†”æ–­ï¼Œé˜²æ­¢çº§è”æ•…éšœ")]),s._v(" "),t("li",[t("strong",[s._v("Kafka")]),s._v(" å®ç°å¼‚æ­¥æ¶ˆæ¯é€šä¿¡ï¼ˆå¦‚è®¢å•å®Œæˆåé€šçŸ¥æ”¯ä»˜æœåŠ¡ï¼‰")])]),s._v(" "),t("h3",{attrs:{id:"nio-å’Œ-netty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nio-å’Œ-netty"}},[s._v("#")]),s._v(" NIO å’Œ Netty")]),s._v(" "),t("blockquote",[t("p",[s._v("Spring Cloud ç”Ÿæ€ä¸­ä¼—å¤šå¾®æœåŠ¡ç»„ä»¶çš„åº•å±‚é€šä¿¡ç»„ä»¶")])]),s._v(" "),t("p",[s._v("Nettyï¼šåŸºäº Java NIO å¼€å‘çš„ç½‘ç»œæµæ¡†æ¶ï¼Œæ˜¯ Java é¢†åŸŸéå¸¸å¼ºå¤§çš„"),t("strong",[s._v("é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡æ¡†æ¶")]),s._v("ï¼Œå¾ˆå¤šä¸­é—´ä»¶ï¼ˆDubboã€Elasticsearchã€RocketMQã€gRPC ç­‰ï¼‰éƒ½ç”¨å®ƒä½œä¸ºåº•å±‚é€šä¿¡ç»„ä»¶")]),s._v(" "),t("p",[s._v("ç®€å•æ¥è¯´ï¼šNetty æ˜¯ "),t("strong",[s._v("ä¸€ä¸ªå°è£…äº† Java NIO çš„ç½‘ç»œæ¡†æ¶")]),s._v("ï¼Œè®©å¼€å‘è€…èƒ½è½»æ¾æ„å»ºé«˜æ€§èƒ½çš„ TCP/UDP ç½‘ç»œæœåŠ¡ï¼Œè€Œä¸ç”¨è‡ªå·±å»å†™ç¹ççš„ Selectorã€Channelã€Buffer è¿™äº›ä½çº§ API")]),s._v(" "),t("p",[t("strong",[s._v("ä»€ä¹ˆæ˜¯ NIOï¼Ÿ")])]),s._v(" "),t("p",[s._v("NIOï¼ˆNew Input/Outputï¼‰ æ˜¯ Java 1.4 å¼•å…¥çš„ä¸€ç»„ APIï¼Œç”¨äºæä¾›**éé˜»å¡ï¼ˆAsynchronousï¼‰**çš„è¾“å…¥è¾“å‡ºæ“ä½œï¼Œå®ƒè®©æˆ‘ä»¬èƒ½æ›´é«˜æ•ˆåœ°å¤„ç†å¤§é‡çš„ I/O æ“ä½œ")]),s._v(" "),t("p",[s._v("NIO ä¸»è¦çš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿ"),t("strong",[s._v("ä¸é˜»å¡çº¿ç¨‹")]),s._v("æ¥å¤„ç† I/O æ“ä½œï¼Œå®ƒæ˜¯ä¸ºäº†å¼¥è¡¥ä¼ ç»Ÿçš„é˜»å¡ I/Oï¼ˆBIOï¼‰å’Œ é«˜å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½ç“¶é¢ˆè€Œè®¾è®¡çš„")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("æ€ä¹ˆå®ç°çš„éé˜»å¡ï¼Ÿ")])])]),s._v(" "),t("p",[t("strong",[s._v("Selector")]),s._v(" å’Œ "),t("strong",[s._v("Channel")]),s._v(" æ˜¯ NIO çš„æ ¸å¿ƒç»„æˆï¼Œé€šè¿‡"),t("strong",[s._v("äº‹ä»¶é©±åŠ¨")]),s._v("å®ç°å¼‚æ­¥éé˜»å¡ I/O æ“ä½œ")]),s._v(" "),t("p",[t("strong",[s._v("Netty é«˜æ€§èƒ½çš„å…³é”®")])]),s._v(" "),t("p",[s._v("ğŸ”¹ 1. çº¿ç¨‹æ±  + äº‹ä»¶é©±åŠ¨")]),s._v(" "),t("p",[s._v("Netty é‡‡ç”¨å¤š Reactor çº¿ç¨‹æ¨¡å‹ï¼Œé€šè¿‡ "),t("strong",[s._v("EventLoopGroup + çº¿ç¨‹æ± ")]),s._v("ï¼Œé¿å…ä¼ ç»Ÿ BIO çš„"),t("strong",[s._v("ä¸€çº¿ç¨‹ä¸€è¿æ¥")]),s._v("ä½æ•ˆæ¨¡å¼")]),s._v(" "),t("ul",[t("li",[s._v("BIOï¼ˆé˜»å¡ IOï¼‰ï¼šä¸€ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªè¿æ¥")]),s._v(" "),t("li",[s._v("NIOï¼ˆéé˜»å¡ IOï¼‰ï¼šå¤šä¸ªè¿æ¥å…±äº«ä¸€ä¸ªçº¿ç¨‹")]),s._v(" "),t("li",[s._v("Nettyï¼ˆå¤š Reactor æ¨¡å‹ï¼‰ï¼šå¤šä¸ªçº¿ç¨‹æ± é«˜æ•ˆç®¡ç†è¿æ¥")])]),s._v(" "),t("p",[s._v("ğŸ“Œ ç¤ºä¾‹ï¼šNetty çº¿ç¨‹æ± ")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EventLoopGroup")]),s._v(" bossGroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NioEventLoopGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤„ç†è¿æ¥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EventLoopGroup")]),s._v(" workerGroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NioEventLoopGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤„ç†è¯»å†™")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ğŸ”¹ 2. é›¶æ‹·è´ï¼ˆZero-Copyï¼‰")]),s._v(" "),t("p",[s._v("Netty é€šè¿‡ "),t("strong",[s._v("DirectByteBufã€CompositeByteBuf")]),s._v(" è¿›è¡Œé›¶æ‹·è´ä¼˜åŒ–")]),s._v(" "),t("ul",[t("li",[s._v("å‡å°‘ CPU æ‹·è´ï¼ˆé¿å… "),t("code",[s._v("System.arraycopy")]),s._v("ï¼‰")]),s._v(" "),t("li",[s._v("å‡å°‘å†…å­˜åˆ†é…ï¼ˆå‡å°‘ GC å‹åŠ›ï¼‰")]),s._v(" "),t("li",[t("strong",[s._v("å‡å°‘ "),t("strong",[s._v("Buffer")]),s._v(" å¤åˆ¶")]),s._v("ï¼ˆç›´æ¥æ“ä½œå †å¤–å†…å­˜ï¼‰")])]),s._v(" "),t("p",[s._v("ğŸ“Œ **ç¤ºä¾‹ï¼š**Netty ç›´æ¥ä½¿ç”¨å †å¤–å†…å­˜")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuf")]),s._v(" buffer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unpooled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("directBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›´æ¥åˆ†é…å †å¤–å†…å­˜")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ğŸ”¹ 3. Pooled Bufferï¼ˆæ± åŒ–å†…å­˜ï¼‰")]),s._v(" "),t("p",[s._v("Netty ä½¿ç”¨å†…å­˜æ± ï¼ˆBuffer Poolï¼‰ï¼Œé‡å¤åˆ©ç”¨ ByteBufï¼Œé¿å…åå¤åˆ›å»ºå¯¹è±¡")]),s._v(" "),t("p",[s._v("ğŸ“Œ ç¤ºä¾‹ï¼šä½¿ç”¨æ± åŒ–çš„ ByteBuf")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuf")]),s._v(" pooledBuf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PooledByteBufAllocator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DEFAULT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("buffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ğŸ”¹ 4. TCP ç²˜åŒ…/æ‹†åŒ…å¤„ç†")]),s._v(" "),t("p",[s._v("TCP å‘é€æ•°æ®æ—¶ï¼Œå¤šä¸ªå°åŒ…å¯èƒ½åˆå¹¶æˆä¸€ä¸ªå¤§åŒ…ï¼ˆ"),t("strong",[s._v("ç²˜åŒ…")]),s._v("ï¼‰ï¼Œæˆ–è€…ä¸€ä¸ªå¤§åŒ…è¢«æ‹†æˆå¤šä¸ªå°åŒ…ï¼ˆ"),t("strong",[s._v("æ‹†åŒ…")]),s._v("ï¼‰ã€‚Netty é€šè¿‡"),t("strong",[s._v("è§£ç å™¨")]),s._v("è§£å†³æ­¤é—®é¢˜")]),s._v(" "),t("p",[s._v("ğŸ“Œ ç¤ºä¾‹ï¼šä½¿ç”¨ Netty æä¾›çš„æ‹†åŒ…è§£ç å™¨")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("ch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipeline")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addLast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LengthFieldBasedFrameDecoder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ä¸Šé¢è¿™ä¸ª LengthFieldBasedFrameDecoder è§£ç å™¨")]),s._v(" "),t("ul",[t("li",[s._v("æŒ‰ç…§æ•°æ®åŒ…é•¿åº¦å­—æ®µè§£ææ¶ˆæ¯")]),s._v(" "),t("li",[s._v("é¿å… TCP ç²˜åŒ…/æ‹†åŒ…é—®é¢˜")])]),s._v(" "),t("h2",{attrs:{id:"å¸¸ç”¨ç»„ä»¶å’Œä¸­é—´ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨ç»„ä»¶å’Œä¸­é—´ä»¶"}},[s._v("#")]),s._v(" å¸¸ç”¨ç»„ä»¶å’Œä¸­é—´ä»¶")]),s._v(" "),t("h3",{attrs:{id:"nacos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nacos"}},[s._v("#")]),s._v(" Nacos")]),s._v(" "),t("blockquote",[t("p",[s._v("æ³¨å†Œä¸­å¿ƒæ˜¯"),t("strong",[s._v("å¾®æœåŠ¡é€šä¿¡çš„æ ¸å¿ƒ")]),s._v("ï¼Œä¸ç®¡æ˜¯ Eurekaã€Feign è¿˜æ˜¯ Dubboï¼Œä»–ä»¬çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å‡è¦åœ¨æ³¨å†Œä¸­å¿ƒè¿›è¡ŒåŠ¨æ€ç®¡ç†")])]),s._v(" "),t("p",[s._v("Nacos æ˜¯ SpringCloud Alibaba çš„ç»„ä»¶ï¼Œè€Œ SpringCloud Alibaba éµå¾ª SpringCloud ä¸­å®šä¹‰çš„æœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°è§„èŒƒï¼Œå› æ­¤ä½¿ç”¨ Nacos å’Œä½¿ç”¨ Eureka å¯¹äºå¾®æœåŠ¡æ¥å£è€Œè¨€ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«")]),s._v(" "),t("p",[s._v("å·®å¼‚æ— é")]),s._v(" "),t("ul",[t("li",[s._v("ä¾èµ–ä¸åŒ")]),s._v(" "),t("li",[s._v("æœåŠ¡åœ°å€ä¸åŒ")])]),s._v(" "),t("p",[s._v("å…·ä½“è€Œè¨€ï¼Œæ¯ä¸ªå¾®æœåŠ¡é€šè¿‡è¿™æ ·çš„æ–¹å¼é›†ä¸­ç®¡ç†")]),s._v(" "),t("p",[s._v("1ï¸âƒ£ é¦–å…ˆå¼•å…¥ Nacos å®¢æˆ·ç«¯ä¾èµ–å¹¶è¿›è¡Œé…ç½®")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("com.alibaba.cloud"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-alibaba-nacos-discovery"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("2022.0.0.0"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- æ ¹æ® Spring Cloud ç‰ˆæœ¬é€‰æ‹© --\x3e")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nacos æœåŠ¡å™¨åœ°å€")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" public           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å‘½åç©ºé—´ï¼ˆé»˜è®¤ publicï¼‰")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" DEFAULT_GROUP        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ†ç»„ï¼ˆé»˜è®¤ DEFAULT_GROUPï¼‰")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("2ï¸âƒ£ åœ¨ä¸»ç±»ä¸­å¯åŠ¨ Nacos æ³¨å†ŒæœåŠ¡")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("userservice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("autoconfigure"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBootApplication")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discovery"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableDiscoveryClient")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableDiscoveryClient")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ç”¨æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ˆå…¼å®¹ Nacosï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceApplication")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceApplication")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("3ï¸âƒ£ æ­£å¸¸ç¼–å†™"),t("code",[s._v("Controller")]),s._v("å±‚ä»£ç ï¼Œå¦‚")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/users"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" userMap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ›å»ºç”¨æˆ·")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PostMapping")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestBody")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        userMap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŸ¥è¯¢ç”¨æˆ·")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/{id}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PathVariable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userMap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[s._v("å¦‚æ­¤ï¼Œå½“å‰é¡¹ç›®"),t("code",[s._v("user-service")]),s._v("çš„æ¥å£å°±è¢«æ³¨å†Œåœ¨åœ°å€ä¸º"),t("code",[s._v("localhost:8848")]),s._v("çš„ Nacos ä¸­ï¼Œå…¶ä»–æ¨¡å—å¯ä»¥é€šè¿‡ Feign å®¢æˆ·ç«¯å¯¹è¯¥æ¥å£è¿›è¡Œè°ƒç”¨")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@FeignClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user-service"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœåŠ¡åéœ€ä¸ç›®æ ‡æœåŠ¡åœ¨ Nacos ä¸­çš„åç§°ä¸€è‡´")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceClient")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/{id}}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PathVariable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" userId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"feign"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#feign"}},[s._v("#")]),s._v(" Feign")]),s._v(" "),t("blockquote",[t("p",[s._v("SpringCloud OpenFeignï¼Œæœ¬è´¨ä¸Šæ˜¯ RestTemplate çš„ä¸Šä½æ›¿ä»£ï¼Œå°è£…äº† HTTP è¯·æ±‚åœ¨å„å¾®æœåŠ¡æ¥å£ä¹‹é—´è¿›è¡Œè°ƒç”¨ï¼Œå±åŒæ­¥è°ƒç”¨ï¼Œä¸å±äº RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰")])]),s._v(" "),t("p",[s._v("åˆšåˆšç®€å•å±•ç¤ºäº†è°ƒç”¨ user-service çš„ Feign å®¢æˆ·ç«¯ç¼–å†™ï¼Œä»¥ä¸‹å¼•å…¥å¦ä¸€ä¸ªæ¨¡å— order-service æ¥æ›´æ¸…æ™°çš„å±•ç¤ºè°ƒç”¨è¿‡ç¨‹")]),s._v(" "),t("p",[s._v("ä»¥åŒæ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª order-service æ¨¡å—è¿è¡Œåœ¨ 8082 ç«¯å£ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¢å•æŸ¥è¯¢æ¥å£æ³¨å†Œåˆ° Nacos")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8082")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nacos æœåŠ¡å™¨åœ°å€")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" public           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å‘½åç©ºé—´ï¼ˆé»˜è®¤ publicï¼‰")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" DEFAULT_GROUP        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ†ç»„ï¼ˆé»˜è®¤ DEFAULT_GROUPï¼‰")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/orders"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŸ¥è¯¢ç”¨æˆ·è´¦å•")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/{userId}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Order")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOrders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PathVariable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOrdersByUserId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("ä»¥ä¸‹å±•ç¤ºå¦‚ä½•åœ¨ user-service æ¨¡å—ä¸­è°ƒç”¨ä¸Šé¢æ³¨å†Œåˆ° Nacos çš„ order-service æœåŠ¡")]),s._v(" "),t("p",[s._v("1ï¸âƒ£ å¼•å…¥ Feign ä¾èµ–å¹¶åœ¨ä¸»ç±»ä¸­å¯ç”¨ï¼ˆåœ¨ UserService æ¨¡å—ä¸­ï¼‰")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.cloud"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-openfeign"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableDiscoveryClient")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableFeignClients")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ç”¨ Feign å®¢æˆ·ç«¯")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceApplication")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("3ï¸âƒ£ ç¼–å†™ Feign å®¢æˆ·ç«¯è°ƒç”¨ä¸Šé¢ order-service çš„æœåŠ¡")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@FeignClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order-service"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœåŠ¡åéœ€ä¸ç›®æ ‡æœåŠ¡åœ¨ Nacos ä¸­çš„åç§°ä¸€è‡´")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderServiceClient")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/orders/{userId}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Order")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOrdersByUserId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PathVariable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" userId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("4ï¸âƒ£ åœ¨ Controller å±‚è°ƒç”¨ Feign å®¢æˆ·ç«¯")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/users"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderServiceClient")]),s._v(" orderServiceClient"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/{id}/orders"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Order")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserOrders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PathVariable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" orderServiceClient"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOrdersByUserId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("å¦‚æ­¤ä¾¿å®ç°äº†å¾®æœåŠ¡ä¹‹é—´çš„ä¸€æ¬¡ç®€å•çš„è°ƒç”¨ï¼Œå¯¹äºç”¨æˆ·è€Œè¨€ï¼Œä»–è¯·æ±‚çš„å®é™…ä¸Šæ˜¯"),t("code",[s._v("/users/{id}/orders")]),s._v("æ¥å£ï¼Œåœ¨å¾®æœåŠ¡å†…éƒ¨ï¼Œè¿™ä¸ªè¯·æ±‚è¢«è½¬å‘åˆ°"),t("code",[s._v("/orders/{id}")]),s._v("æ¥å£ï¼Œå¹¶æœ€ç»ˆå°†ç»“æœé€šè¿‡"),t("code",[s._v("/users/{id}/orders")]),s._v("è¿”å›")]),s._v(" "),t("h3",{attrs:{id:"gateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gateway"}},[s._v("#")]),s._v(" Gateway")]),s._v(" "),t("p",[s._v("Gateway ç½‘å…³æ˜¯å¾®æœåŠ¡çš„é—¨ç¥ï¼Œè´Ÿè´£")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("æƒé™æ§åˆ¶")]),s._v("ï¼šç½‘å…³ä½œä¸ºå¾®æœåŠ¡å…¥å£ï¼Œéœ€è¦æ ¡éªŒç”¨æˆ·æ˜¯æ˜¯å¦æœ‰è¯·æ±‚èµ„æ ¼ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œæ‹¦æˆª")]),s._v(" "),t("li",[t("strong",[s._v("è·¯ç”±å’Œè´Ÿè½½å‡è¡¡")]),s._v("ï¼šä¸€åˆ‡è¯·æ±‚éƒ½å¿…é¡»å…ˆç»è¿‡gatewayï¼Œä½†ç½‘å…³ä¸å¤„ç†ä¸šåŠ¡ï¼Œè€Œæ˜¯æ ¹æ®æŸç§è§„åˆ™ï¼ŒæŠŠè¯·æ±‚è½¬å‘åˆ°æŸä¸ªå¾®æœåŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšè·¯ç”±ã€‚å½“ç„¶è·¯ç”±çš„ç›®æ ‡æœåŠ¡æœ‰å¤šä¸ªæ—¶ï¼Œè¿˜éœ€è¦åšè´Ÿè½½å‡è¡¡")]),s._v(" "),t("li",[t("strong",[s._v("é™æµ")]),s._v("ï¼šå½“è¯·æ±‚æµé‡è¿‡é«˜æ—¶ï¼Œåœ¨ç½‘å…³ä¸­æŒ‰ç…§ä¸‹æµçš„å¾®æœåŠ¡èƒ½å¤Ÿæ¥å—çš„é€Ÿåº¦æ¥æ”¾è¡Œè¯·æ±‚ï¼Œé¿å…æœåŠ¡å‹åŠ›è¿‡å¤§")])]),s._v(" "),t("p",[s._v("åŸºæœ¬æ¶æ„")]),s._v(" "),t("img",{attrs:{src:a(835)}}),s._v(" "),t("p",[t("strong",[s._v("å®é™…ä¸Šï¼Œåœ¨ç°å®ä¸šåŠ¡ä¸­ï¼Œè¯·æ±‚å…ˆèµ°è´Ÿè½½å‡è¡¡ï¼Œå†æ‰“ç½‘å…³ï¼Œæœ€åæ‰“åˆ°å¾®æœåŠ¡")])]),s._v(" "),t("p",[s._v("maven å¼•å…¥")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--ç½‘å…³--\x3e")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.cloud"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-gateway"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--nacosæœåŠ¡å‘ç°ä¾èµ– è‡ªå·±ä¹Ÿè¦æ³¨å†Œåˆ°nacos--\x3e")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("com.alibaba.cloud"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-alibaba-nacos-discovery"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("application é…ç½®")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10010")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç½‘å…³ç«¯å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gateway "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æœåŠ¡åç§°")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nacosåœ°å€")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gateway")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("routes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç½‘å…³è·¯ç”±é…ç½®")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uri")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" lb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//orderservice\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("predicates")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" Path=/user/"),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("**")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" After=2021"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("20T17"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("42"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("47.789"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("07"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("00"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("America/Denver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ–­è¨€ï¼šåªæœ‰åœ¨è¿™ä¸ªäº‹ä»¶åå‘é€çš„è¯·æ±‚æ‰å¯ä»¥")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·¯ç”±idï¼Œè‡ªå®šä¹‰ï¼Œåªè¦å”¯ä¸€å³å¯")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uri: http://127.0.0.1:8081 # è·¯ç”±çš„ç›®æ ‡åœ°å€ httpå°±æ˜¯å›ºå®šåœ°å€")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uri")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" lb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//userservice "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·¯ç”±çš„ç›®æ ‡åœ°å€ lbå°±æ˜¯è´Ÿè½½å‡è¡¡ï¼Œåé¢è·ŸæœåŠ¡åç§°")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("predicates")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·¯ç”±æ–­è¨€ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­è¯·æ±‚æ˜¯å¦ç¬¦åˆè·¯ç”±è§„åˆ™çš„æ¡ä»¶")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" Path=/user/"),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("**")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™ä¸ªæ˜¯æŒ‰ç…§è·¯å¾„åŒ¹é…ï¼Œåªè¦ä»¥/user/å¼€å¤´å°±ç¬¦åˆè¦æ±‚")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("filters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿‡æ»¤å™¨ï¼ˆå½“å‰è¿‡æ»¤å™¨å†™åœ¨userserviceè·¯ç”±ä¸‹ï¼Œå› æ­¤ä»…ä»…å¯¹è®¿é—®userserviceçš„è¯·æ±‚æœ‰æ•ˆï¼‰")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" AddRequestHeader=Conan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" isMe"),t("span",{pre:!0,attrs:{class:"token tag"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ·»åŠ è¯·æ±‚å¤´")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("default-filters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤è¿‡æ»¤é¡¹ï¼ˆå¯¹æ‰€æœ‰è·¯ç”±éƒ½æœ‰æ•ˆï¼‰")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" AddRequestHeader=Truth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Itcast is freaking awesome"),t("span",{pre:!0,attrs:{class:"token tag"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("æœ‰ä¸€ä¸ªé—®é¢˜ï¼šGateway çš„æƒé™æ‹¦æˆªå’Œ SpringSecurity æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œèƒ½å¦ç›¸äº’æ›¿ä»£ï¼Ÿ")]),s._v(" "),t("h2",{attrs:{id:"rpc-æ¡†æ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpc-æ¡†æ¶"}},[s._v("#")]),s._v(" RPC æ¡†æ¶")]),s._v(" "),t("h3",{attrs:{id:"æœåŠ¡é—´é€šä¿¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡é—´é€šä¿¡"}},[s._v("#")]),s._v(" æœåŠ¡é—´é€šä¿¡")]),s._v(" "),t("p",[s._v("è¯¦è§ "),t("a",{attrs:{href:"https://arkrypto.github.io/pages/2afee4/",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ - æ·±å…¥ RPC æ¡†æ¶ | Arkrypto's Wiki"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"æ¶ˆæ¯é˜Ÿåˆ—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é˜Ÿåˆ—"}},[s._v("#")]),s._v(" æ¶ˆæ¯é˜Ÿåˆ—")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("ç¼“å†²")]),s._v("æ˜¯ MQ çš„å…³é”®è¯ï¼Œ"),t("strong",[s._v("å¼‚æ­¥")]),s._v("æ˜¯å…¶ä¸»è¦ç‰¹å¾")])]),s._v(" "),t("p",[s._v("è¿™é‡Œä¸»è¦è€ƒè™‘ Kafka ä½œä¸ºæ—¥å¿—æ”¶é›†çš„ä½¿ç”¨ï¼Œå¦‚æœæ˜¯æ¶ˆæ¯ä¸­é—´ä»¶å¯ä»¥æ›´å¤šå‚è€ƒ "),t("a",{attrs:{href:"https://arkrypto.github.io/pages/45216b/",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("RabbitMQ | Arkrypto's Wiki"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("ä¹‹å‰ç”¨ RabbitMQ åšè¿‡ä¸€ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç”¨äºè§£è€¦ç”¨æˆ·è¯·æ±‚å’Œå¤§æ¨¡å‹çš„å“åº”ï¼Œå³ç”¨æˆ·ä½œä¸ºç”Ÿäº§è€…ï¼ŒLLM ä½œä¸ºæ¶ˆè´¹è€…ï¼ŒMQ åœ¨ä¸­é—´åšä¸€å±‚ç¼“å†²")])]),s._v(" "),t("p",[s._v("Kafka æ˜¯ä¸€ä¸ªæµå¼æ¡†æ¶ï¼Œè®¾è®¡æœ¬èº«å°±æ˜¯ä¸ºäº†æµå¤„ç†å’Œæ‰¹å¤„ç†ï¼Œä»¥é¢å¯¹å¤§æ•°æ®çš„å†²å‡»å’Œæ¶ˆè´¹ï¼Œä¾‹å¦‚æ—¥å¿—å¤„ç†ï¼Œä½œä¸ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„ä¸€ä¸ªä¸­é—´è§’è‰²å¯¹æ—¥å¿—è¿›è¡ŒæŒä¹…åŒ–çš„å­˜å‚¨")]),s._v(" "),t("p",[s._v("ä¸€äº›é€šç”¨çš„åº”ç”¨åœºæ™¯")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("ç±»åˆ«")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("å…·ä½“åœºæ™¯")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("è¯´æ˜")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("æ—¥å¿—æ”¶é›†")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("ç³»ç»Ÿæ—¥å¿—ã€åº”ç”¨æ—¥å¿—ã€å®¡è®¡æ—¥å¿—")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("æœ€ç»å…¸ç”¨é€”ï¼Œ"),t("strong",[s._v("è§£è€¦æ—¥å¿—ç”Ÿæˆå’Œåˆ†æ")])])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("æ¶ˆæ¯ä¸­é—´ä»¶")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("ç³»ç»Ÿé—´æ¶ˆæ¯å¼‚æ­¥é€šä¿¡")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("æ›¿ä»£ä¼ ç»Ÿ MQï¼ˆæ¯”å¦‚RabbitMQã€ActiveMQï¼‰")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("æµå¼å¤„ç†")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("å®æ—¶æ•°æ®æµåˆ†æ")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("æ­é… Flinkã€Spark Streaming åšå®æ—¶ETLã€æŠ¥è­¦ã€ç›‘æ§")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("æŒ‡æ ‡ç›‘æ§")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("ä¸šåŠ¡æŒ‡æ ‡ã€è¿ç»´ç›‘æ§ã€æŠ¥è­¦ç³»ç»Ÿ")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("ä½å»¶è¿Ÿæ”¶é›†ä¸åˆ†æï¼Œåšå®æ—¶ä»ªè¡¨ç›˜")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("æ•°æ®ç®¡é“")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("å¤§æ•°æ®åŒæ­¥ï¼Œæ•°æ®æ¹–ã€ä»“åº“å»ºæ¨¡")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("å°† MySQLã€MongoDB ç­‰å˜æ›´æµå…¥ Kafkaï¼Œæ¨é€åˆ° Hadoopã€Hiveã€ES")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("å¾®æœåŠ¡äº‹ä»¶æ€»çº¿ï¼Œç”¨æˆ·è¡Œä¸ºè¿½è¸ª")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("æœåŠ¡é—´è§£è€¦ã€å¼‚æ­¥å¤„ç†ï¼Œæ”¯æŒè®¢é˜…æ¨¡å¼")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("IoT æ•°æ®æ”¶é›†")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("è®¾å¤‡ä¼ æ„Ÿå™¨æ•°æ®æµ")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("IoT è®¾å¤‡äº§ç”Ÿçš„å¤§é‡å®æ—¶æ•°æ®é€šè¿‡Kafkaèšåˆ")])])])]),s._v(" "),t("h3",{attrs:{id:"æ—¥å¿—æ”¶é›†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ—¥å¿—æ”¶é›†"}},[s._v("#")]),s._v(" æ—¥å¿—æ”¶é›†")]),s._v(" "),t("blockquote",[t("p",[s._v("Kafka å……å½“ä¸€ä¸ª"),t("strong",[s._v("é«˜æ€§èƒ½çš„æ—¥å¿—ç¼“å†²ä¸­é—´ä»¶")])])]),s._v(" "),t("p",[s._v("ä»¥æ—¥å¿—æ”¶é›†ä¸ºä¾‹ï¼Œå…¶æ•°æ®æµå‘å¦‚ä¸‹")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("æ—¥å¿—æ”¶é›† - æ—¥å¿—æºæœåŠ¡å™¨ï¼ˆNginxï¼ŒTomcatï¼ŒSpringBoot åº”ç”¨ï¼‰\n    \t  â†“\n\t      Filebeat / Fluentd / Logstashï¼ˆè½»é‡çº§æ”¶é›†ï¼‰\n    \t  â†“\næ—¥å¿—å­˜å‚¨ - Kafkaï¼ˆåŸå§‹æ—¥å¿— Topicï¼‰\n    \t  â†“\n\t      Logstash / Flinkï¼ˆå¤æ‚åŠ å·¥å¤„ç†ï¼‰\n    \t  â†“\n\t      Kafkaï¼ˆæ¸…æ´—åçš„æ—¥å¿— Topicï¼‰\n    \t  â†“\næ—¥å¿—æ¶ˆè´¹ - Elasticsearch / HDFS / DBï¼ˆå­˜å‚¨ & æ£€ç´¢ï¼‰\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("ä¹Ÿå¯ä»¥ç®€å•ä¸€ç‚¹ï¼Œç›´æ¥ç”¨ Flink + ES æ¶ˆè´¹åŸå§‹æ—¥å¿—ï¼Œæ¸…æ´—åçš„æ—¥å¿—æ— éœ€äºŒæ¬¡å­˜å…¥ MQï¼Œè€Œæ˜¯ç›´æ¥æµå…¥ ES")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("æ—¥å¿—æ”¶é›† - æ—¥å¿—æºæœåŠ¡å™¨ï¼ˆNginxï¼ŒTomcatï¼ŒSpringBoot åº”ç”¨ï¼‰\n    \t  â†“\n\t      Filebeat / Fluentd / Logstashï¼ˆè½»é‡çº§æ”¶é›†ï¼‰\n    \t  â†“\næ—¥å¿—å­˜å‚¨ - Kafkaï¼ˆåŸå§‹æ—¥å¿— Topicï¼‰\n    \t  â†“\næ—¥å¿—æ¶ˆè´¹ - Logstash / Flinkï¼ˆå¤æ‚åŠ å·¥å¤„ç†ï¼‰\n    \t  â†“\n    \t  Elasticsearch / HDFS / DBï¼ˆå­˜å‚¨ & æ£€ç´¢ï¼‰\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("1ï¸âƒ£ æ—¥å¿—é‡‡é›†")]),s._v(" "),t("p",[s._v("æœ¬åœ°æ–‡ä»¶ï¼šå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰åº”ç”¨æ—¥å¿—"),t("code",[s._v("/var/log/nginx/access.log")])]),s._v(" "),t("p",[s._v("æ—¥å¿—é‡‡é›†ï¼ˆ"),t("code",[s._v("Filebeat/Fluentd/Logstash")]),s._v("ï¼‰ï¼šä»æºå¤´é‡‡é›†åŸå§‹æ•°æ®ï¼Œå¿«é€Ÿã€ä½æ¶ˆè€—çš„æ¬è¿æ•°æ®åˆ° Kafka")]),s._v(" "),t("p",[s._v("2ï¸âƒ£ æ—¥å¿—å­˜å‚¨")]),s._v(" "),t("p",[t("code",[s._v("Kafka")]),s._v("ï¼šæ—¥å¿—å­˜å‚¨ï¼Œå°†åŸå§‹æ—¥å¿—å­˜å…¥ Kafka Topic ä¸­")]),s._v(" "),t("p",[s._v("3ï¸âƒ£ æ—¥å¿—æ¶ˆè´¹")]),s._v(" "),t("p",[s._v("æ•°æ®æ¸…æ´—ï¼ˆ"),t("code",[s._v("Logstash/Flink")]),s._v("ï¼‰ï¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œç¨å¤æ‚çš„å¤„ç†ï¼Œå°±åƒçˆ¬è™«æ¸…æ´— HTML æ•°æ®ä¸€æ ·")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("ä½œç”¨")]),s._v(" "),t("th",[s._v("ç¤ºä¾‹")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("æ—¥å¿—å­—æ®µæå–")]),s._v(" "),t("td",[s._v("æŠŠ "),t("code",[s._v('"INFO 2024-04-26 server started"')]),s._v(" è§£ææˆç»“æ„åŒ–æ•°æ®")])]),s._v(" "),t("tr",[t("td",[s._v("æ—¥å¿—è¿‡æ»¤")]),s._v(" "),t("td",[s._v("åªä¿ç•™ ERROR æ—¥å¿—")])]),s._v(" "),t("tr",[t("td",[s._v("æ—¥å¿—æ¸…æ´—")]),s._v(" "),t("td",[s._v("ä¿®æ­£æ ¼å¼ã€è¡¥å……ç¼ºå¤±å­—æ®µ")])]),s._v(" "),t("tr",[t("td",[s._v("æ—¥å¿—åˆ†æµ")]),s._v(" "),t("td",[s._v("æŒ‰ä¸åŒç±»å‹æ—¥å¿—æ‰“åˆ°ä¸åŒ Kafka topic")])]),s._v(" "),t("tr",[t("td",[s._v("å®æ—¶èšåˆ")]),s._v(" "),t("td",[s._v("æ¯”å¦‚ä¸€åˆ†é’Ÿå†…ç»Ÿè®¡é”™è¯¯æ•°é‡")])]),s._v(" "),t("tr",[t("td",[s._v("å¼‚å¸¸æ£€æµ‹")]),s._v(" "),t("td",[s._v("å®æ—¶è¯†åˆ«å¼‚å¸¸æ¨¡å¼")])])])]),s._v(" "),t("p",[s._v("PSï¼šLogstash/Flink å¤„ç†åçš„æ•°æ®å¹¶ä¸ä¼šç›´æ¥è½ç›˜ï¼Œè¿™é‡Œå¯ä»¥é€‰æ‹©ç›´æ¥å­˜å…¥æ•°æ®åº“å¦‚ ES æˆ–æ˜¯å­˜å› Kafkaï¼ˆå†æµå…¥ DBï¼‰")]),s._v(" "),t("p",[s._v("Logstash å’Œ Flink å¼‚åŒ")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("ç»„ä»¶")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("ä½œç”¨")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("ç‰¹ç‚¹")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("Logstash")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("å¤æ‚çš„æ—¥å¿—åŠ å·¥å’Œè·¯ç”±å™¨")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("æ’ä»¶ä¸°å¯Œï¼ˆFilter, Outputï¼‰ï¼Œé€‚åˆä¸­å°å‹å¤„ç†")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("strong",[s._v("Flink")])]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("å¤§è§„æ¨¡å®æ—¶æµå¤„ç†æ¡†æ¶")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("è¶…é«˜ååã€ä½å»¶è¿Ÿï¼Œé€‚åˆå¤æ‚è®¡ç®—å’Œå¤§è§„æ¨¡æµ")])])])]),s._v(" "),t("p",[s._v("å­˜å‚¨ & æ£€æµ‹")]),s._v(" "),t("ol",[t("li",[s._v("ELK Stackï¼ˆElasticsearch + Logstash + Kibanaï¼‰\n"),t("ul",[t("li",[s._v("Logstash ä» Kafka è¯»æ—¥å¿—ï¼Œæ¸…æ´—åå†™åˆ° Elasticsearch")]),s._v(" "),t("li",[s._v("Kibana åšæ—¥å¿—æ£€ç´¢å’Œå¯è§†åŒ–")])])]),s._v(" "),t("li",[s._v("å®æ—¶å¤„ç†ç³»ç»Ÿï¼ˆFlink / Spark Streamingï¼‰ï¼šå®æ—¶è®¡ç®—å¼‚å¸¸æ—¥å¿—ã€æŠ¥è­¦ã€æ—¥å¿—èšåˆç­‰")]),s._v(" "),t("li",[s._v("ç¦»çº¿å­˜å‚¨ï¼šå­˜åˆ° HDFSã€Hiveï¼Œåšç¦»çº¿åˆ†æ")])]),s._v(" "),t("h2",{attrs:{id:"å¤§æ•°æ®è®¡ç®—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¤§æ•°æ®è®¡ç®—"}},[s._v("#")]),s._v(" å¤§æ•°æ®è®¡ç®—")]),s._v(" "),t("h3",{attrs:{id:"flink"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flink"}},[s._v("#")]),s._v(" Flink")]),s._v(" "),t("p",[s._v("åœ¨å¤§æ•°æ®åœºæ™¯ä¸­ï¼ŒFlink ç»å¸¸å’Œ Kafka æ­é…ï¼Œç”¨æ¥"),t("strong",[s._v("æ¸…æ´—")]),s._v(" Kafka çš„æ•°æ®æµ")]),s._v(" "),t("ol",[t("li",[s._v("Kafka ç”Ÿäº§æ•°æ®ï¼ˆæ—¥å¿—ã€ç”¨æˆ·ç‚¹å‡»ã€è®¾å¤‡æ•°æ®ç­‰ï¼‰")]),s._v(" "),t("li",[s._v("Flink è¿›è¡Œå®æ—¶å¤„ç†ï¼ˆèšåˆã€åˆ†æã€æ¸…æ´—ï¼‰")]),s._v(" "),t("li",[s._v("å¤„ç†ç»“æœå­˜å…¥ Kafkaï¼ˆæœ¬åœ°ç£ç›˜ï¼‰ / å…³ç³»å‹æ•°æ®åº“ / Elasticsearch")])]),s._v(" "),t("p",[s._v("ğŸ“Œ ç¤ºä¾‹ï¼šFlink è¯»å– Kafka å¹¶ç»Ÿè®¡ç”¨æˆ·ç‚¹å‡»é‡")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StreamExecutionEnvironment")]),s._v(" env "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StreamExecutionEnvironment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getExecutionEnvironment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FlinkKafkaConsumer")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" kafkaConsumer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FlinkKafkaConsumer")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_clicks"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SimpleStringSchema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" properties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DataStream")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" stream "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addSource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kafkaConsumer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„ç‚¹å‡»æ¬¡æ•°")]),s._v("\nstream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Tuple2")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("keyBy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nenv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Kafka Stream Processing"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"spark"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spark"}},[s._v("#")]),s._v(" Spark")]),s._v(" "),t("p",[s._v("Flink ä¸“æ³¨äºæµå¤„ç†ï¼Œè€Œ Spark ä»¥æ‰¹å¤„ç†ä¸ºä¸»")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[s._v("å¯¹æ¯”é¡¹")])]),s._v(" "),t("th",[t("strong",[s._v("Flink")])]),s._v(" "),t("th",[t("strong",[s._v("Spark")])])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[s._v("è®¡ç®—æ¨¡å¼")])]),s._v(" "),t("td",[s._v("ä¸»è¦æ˜¯"),t("strong",[s._v("æµè®¡ç®—")]),s._v("ï¼Œä¹Ÿæ”¯æŒæ‰¹å¤„ç†")]),s._v(" "),t("td",[s._v("ä¸»è¦æ˜¯"),t("strong",[s._v("æ‰¹å¤„ç†")]),s._v("ï¼Œæ”¯æŒæµè®¡ç®—")])]),s._v(" "),t("tr",[t("td",[t("strong",[s._v("å»¶è¿Ÿ")])]),s._v(" "),t("td",[s._v("æ¯«ç§’çº§")]),s._v(" "),t("td",[s._v("ç§’çº§")])]),s._v(" "),t("tr",[t("td",[t("strong",[s._v("ååé‡")])]),s._v(" "),t("td",[s._v("é«˜ååï¼Œé€‚ç”¨äºé«˜å¹¶å‘")]),s._v(" "),t("td",[s._v("è¾ƒé«˜ååï¼Œä½†ç¨é€Šäº Flink")])]),s._v(" "),t("tr",[t("td",[t("strong",[s._v("æ•…éšœæ¢å¤")])]),s._v(" "),t("td",[s._v("Exactly-Once è¯­ä¹‰ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§")]),s._v(" "),t("td",[s._v("At-Least-Onceï¼Œå¯èƒ½é‡å¤è®¡ç®—")])]),s._v(" "),t("tr",[t("td",[t("strong",[s._v("API å…¼å®¹æ€§")])]),s._v(" "),t("td",[s._v("æä¾› SQLã€Javaã€Python API")]),s._v(" "),t("td",[s._v("æä¾› SQLã€Scalaã€Java API")])])])]),s._v(" "),t("h2",{attrs:{id:"elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[s._v("#")]),s._v(" ElasticSearch")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/buchizicai/p/17093719.html",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("ElasticSearch (ESä»å…¥é—¨åˆ°ç²¾é€šä¸€ç¯‡å°±å¤Ÿäº†) - ä¸åƒç´«èœ - åšå®¢å›­"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"elk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elk"}},[s._v("#")]),s._v(" ELK")]),s._v(" "),t("p",[s._v("ELKï¼ŒElastic Stackï¼Œæ˜¯ä»¥ ElasticSearch ä¸ºæ ¸å¿ƒçš„æŠ€æœ¯æ ˆï¼ŒåŒ…æ‹¬ Beatsã€"),t("strong",[s._v("Logstash")]),s._v("ã€Kibanaã€"),t("strong",[s._v("ElasticSerach")]),s._v("ï¼Œè¢«å¹¿æ³›åº”ç”¨åœ¨æ—¥å¿—æ•°æ®åˆ†æã€å®æ—¶ç›‘æ§ç­‰é¢†åŸŸ")]),s._v(" "),t("img",{attrs:{src:a(836)}}),s._v(" "),t("p",[s._v("ä½œä¸º ELK çš„æ ¸å¿ƒï¼ŒElasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼ˆç´¢å¼•æ•°æ®åº“ï¼‰ï¼Œè´Ÿè´£å­˜å‚¨ã€æœç´¢ã€åˆ†ææ•°æ®ã€‚ä»–é‡‡ç”¨ Netty ä½œä¸ºåº•å±‚é€šä¿¡æ¡†æ¶ï¼Œæ¥å®ç°é«˜æ•ˆçš„ "),t("strong",[s._v("TCP è¿æ¥ç®¡ç†")]),s._v("å’Œ"),t("strong",[s._v("æ•°æ®ä¼ è¾“")]),s._v("ï¼Œç”± Lucene æä¾›æœç´¢å¼•æ“çš„æ ¸å¿ƒ APIï¼ˆLucene æ˜¯ Apache çš„æ¯•ä¸šå¼€æºæœç´¢å¼•æ“ç±»åº“ï¼ŒåŸºäº Java å¼€å‘ï¼‰")]),s._v(" "),t("p",[s._v("Logstash æ˜¯ä¸€ä¸ªæµå¤„ç†å·¥å…·ï¼Œå®ƒæä¾›äº†å¤§é‡æ’ä»¶ï¼Œå¯ç”¨å®ƒè‡ªå·±çš„ "),t("a",{attrs:{href:"https://www.elastic.co/guide/en/logstash/current/filter-plugins.html",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("Filter"),t("OutboundLink")],1),s._v(" å¸®åŠ©ä½ è§£æï¼Œä¸°å¯Œï¼Œè½¬æ¢å’Œç¼“å†²æ¥è‡ªå„ç§æ¥æºçš„æ•°æ®ï¼Œæœ€åï¼Œå®ƒå¯ä»¥æŠŠè‡ªå·±çš„æ•°æ®è¾“å‡ºåˆ°å„ç§éœ€è¦çš„æ•°æ®å‚¨å­˜åœ°ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬ Elasticsearch")]),s._v(" "),t("ul",[t("li",[s._v("å®‰æ’è¿™ç±»å®‰å…¨ç±»çš„å…¬å¸åšå¼€å‘ä¼¼ä¹ç”¨çš„æ¯”è¾ƒå¤š")])]),s._v(" "),t("p",[s._v("ç›¸æ¯”äº Luceneï¼ŒElasticSearch å…·å¤‡ä¸‹åˆ—ä¼˜ç‚¹")]),s._v(" "),t("ol",[t("li",[s._v("æ”¯æŒåˆ†å¸ƒå¼ï¼Œå¯æ°´å¹³æ‰©å±•")]),s._v(" "),t("li",[s._v("æä¾› Restful æ¥å£ï¼Œå¯é€šè¿‡ä»»æ„è¯­è¨€ä»¥ HTTP æ–¹å¼è°ƒç”¨")])]),s._v(" "),t("p",[s._v("ES çš„æ ¸å¿ƒåœ¨äºå€’æ’ç´¢å¼•ï¼ˆç›¸å¯¹äºå…³ç³»å‹æ•°æ®åº“çš„æ­£å‘ç´¢å¼•è€Œè¨€ï¼‰ï¼Œåœ¨æ¨¡ç³Šæœç´¢æ—¶é€Ÿåº¦å¾ˆå¿«ï¼ˆä¾ä»—äº BM25 ç®—æ³•ï¼‰")]),s._v(" "),t("p",[s._v("ES çš„æ ¸å¿ƒè¯„åˆ†ç®—æ³•ï¼šä¸€å¼€å§‹æ˜¯ TF-IDF ç®—æ³•")]),s._v(" "),t("img",{attrs:{src:a(837)}}),s._v(" "),t("p",[s._v("åæ¥æ˜¯ BM25 ç®—æ³•ï¼ˆåœ¨ 5.1 ç‰ˆæœ¬åï¼‰ï¼Œæ²¡é”™ï¼Œå°±æ˜¯è¿™ç¯‡ç”¨åˆ°çš„ - "),t("a",{attrs:{href:"https://northboat.github.io/pages/7bc025/#jpbc-%E5%9F%BA%E7%A1%80",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("åŸºäº BM25 ç®—æ³•çš„å¯æœç´¢åŠ å¯†ç³»ç»Ÿ | Arkrypto Wiki"),t("OutboundLink")],1)]),s._v(" "),t("img",{attrs:{src:a(838)}}),s._v(" "),t("p",[s._v("ä¸ MySQL çš„å¯¹æ¯”")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[s._v("MySQL")])]),s._v(" "),t("th",[t("strong",[s._v("Elasticsearch")])]),s._v(" "),t("th",[t("strong",[s._v("è¯´æ˜")])])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Table")]),s._v(" "),t("td",[s._v("Index")]),s._v(" "),t("td",[s._v("ç´¢å¼•ï¼ˆindexï¼‰ï¼Œå°±æ˜¯æ–‡æ¡£çš„é›†åˆï¼Œç±»ä¼¼æ•°æ®åº“çš„è¡¨(table)")])]),s._v(" "),t("tr",[t("td",[s._v("Row")]),s._v(" "),t("td",[s._v("Document")]),s._v(" "),t("td",[s._v("æ–‡æ¡£ï¼ˆDocumentï¼‰ï¼Œå°±æ˜¯ä¸€æ¡æ¡çš„æ•°æ®ï¼Œç±»ä¼¼æ•°æ®åº“ä¸­çš„è¡Œï¼ˆRowï¼‰ï¼Œæ–‡æ¡£éƒ½æ˜¯ JSON æ ¼å¼")])]),s._v(" "),t("tr",[t("td",[s._v("Column")]),s._v(" "),t("td",[s._v("Field")]),s._v(" "),t("td",[s._v("å­—æ®µï¼ˆFieldï¼‰ï¼Œå°±æ˜¯ JSON æ–‡æ¡£ä¸­çš„å­—æ®µï¼Œç±»ä¼¼æ•°æ®åº“ä¸­çš„åˆ—ï¼ˆColumnï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("Schema")]),s._v(" "),t("td",[s._v("Mapping")]),s._v(" "),t("td",[s._v("Mappingï¼ˆæ˜ å°„ï¼‰æ˜¯ç´¢å¼•ä¸­æ–‡æ¡£çš„çº¦æŸï¼Œä¾‹å¦‚å­—æ®µç±»å‹çº¦æŸã€‚ç±»ä¼¼æ•°æ®åº“çš„è¡¨ç»“æ„ï¼ˆSchemaï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("SQL")]),s._v(" "),t("td",[s._v("DSL")]),s._v(" "),t("td",[s._v("DSL æ˜¯ elasticsearch æä¾›çš„JSONé£æ ¼çš„è¯·æ±‚è¯­å¥ï¼Œç”¨æ¥æ“ä½œ elasticsearchï¼Œå®ç°CRUD")])])])]),s._v(" "),t("p",[s._v("åƒæ“çºµ MySQL ä¸€æ ·ï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯ä½¿ç”¨ DSL å¯¹ ES è¿›è¡Œ CRUDï¼Œæ— è®ºæ˜¯å‘½ä»¤è¡Œè¿˜æ˜¯è°ƒç”¨ RestAPIï¼Œéƒ½æ˜¯åœ¨å®Œæˆè¿™ä¸€å·¥ä½œ")]),s._v(" "),t("h3",{attrs:{id:"dsl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsl"}},[s._v("#")]),s._v(" DSL")]),s._v(" "),t("p",[s._v("ç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„ SQLï¼Œé‡‡ç”¨æ›´ä¸ºç®€å•çš„ Json æ ¼å¼")]),s._v(" "),t("p",[s._v("1ï¸âƒ£ POST å‘½ä»¤æ–°å¢æ–‡æ¡£ï¼Œå…¨éƒ¨æ˜¯é”®å€¼å¯¹çš„å½¢å¼è¿›è¡Œæ·»åŠ ")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("POST /northboat/_doc/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"info"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çœŸç›¸åªæœ‰ä¸€ä¸ªï¼"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zy@itcast.cn"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"firstName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æŸ¯"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lastName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å—"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("2ï¸âƒ£ GET æŸ¥è¯¢æ–‡æ¡£")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("GET /northboat/_doc/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("3ï¸âƒ£ DELETE åˆ é™¤æ–‡æ¡£")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("# æ ¹æ®idåˆ é™¤æ•°æ®\nDELETE /northboat/_doc/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("4ï¸âƒ£ PUT å…¨é‡ä¿®æ”¹æ–‡æ¡£ï¼ˆè¦†ç›–ä¿®æ”¹ï¼‰ï¼Œå®é™…ä¸Šæ˜¯å…ˆé€šè¿‡ id DELETE æ‰åŸæœ‰æ–‡æ¡£ï¼Œå† POST ä¸€ä¸ªç›¸åŒ id çš„æ–‡æ¡£")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("PUT /northboat/_doc/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"info"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è¥¿ç”µå‡¯Ã·CIAå®éªŒå®¤"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zy@itcast.cn"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"firstName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"äº‘"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lastName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"èµµ"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("5ï¸âƒ£ POST å¢é‡ä¿®æ”¹ï¼Œåªä¿®æ”¹æŒ‡å®š id åŒ¹é…çš„æ–‡æ¡£ä¸­çš„"),t("strong",[s._v("éƒ¨åˆ†å­—æ®µ")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("POST /northboat/_doc/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"doc"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"northboat@163.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"ç´¢å¼•åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç´¢å¼•åº“"}},[s._v("#")]),s._v(" ç´¢å¼•åº“")]),s._v(" "),t("p",[s._v("åœ¨ç°å®åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å»æ‰‹åŠ¨åˆ›å»ºç´¢å¼•åº“ï¼Œåº”è¯¥æ˜¯æ ¹æ®æ¯ä¸ªæ–‡æ¡£çš„"),t("strong",[s._v("å…³é”®è¯")]),s._v("å»åˆ›å»ºå¯¹åº”çš„ jsonï¼Œé‚£ä¹ˆè¿™ä¸€è¿‡ç¨‹ä¸€å®šæ˜¯éœ€è¦ç”¨åˆ°"),t("strong",[s._v("åˆ†è¯å™¨")]),s._v("å¯¹æ•´ä¸ªæ–‡æ¡£è¿›è¡Œå…³é”®è¯çš„åˆ†å‰²")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬è¯´ï¼Œåˆ›å»ºç´¢å¼•åº“ï¼Œæœ€å…³é”®çš„æ˜¯ mapping æ˜ å°„ï¼ˆæ„å»º json æ˜ å°„å…³ç³»ï¼‰ï¼Œè€Œ mapping æ˜ å°„è¦è€ƒè™‘çš„ä¿¡æ¯åŒ…æ‹¬ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å­—æ®µå")]),s._v(" "),t("li",[s._v("å­—æ®µæ•°æ®ç±»å‹")]),s._v(" "),t("li",[s._v("æ˜¯å¦å‚ä¸æœç´¢")]),s._v(" "),t("li",[s._v("æ˜¯å¦éœ€è¦åˆ†è¯")]),s._v(" "),t("li",[s._v("å¦‚æœåˆ†è¯ï¼Œåˆ†è¯å™¨æ˜¯ä»€ä¹ˆ")])]),s._v(" "),t("p",[s._v("åœ¨è®¾è®¡æ—¶")]),s._v(" "),t("ol",[t("li",[s._v("ä¾ç…§å…³ç³»å‹æ•°æ®åº“çš„å­—æ®µè®¾è®¡æ–¹å¼è¿›è¡Œè®¾è®¡")]),s._v(" "),t("li",[s._v("æˆ‘ä»¬åªå¯¹éœ€è¦è¿›è¡Œæœç´¢çš„å­—æ®µè¿›è¡Œæ˜ å°„ï¼Œæ¯”å¦‚ä¸»é”®è‚¯å®šéœ€è¦ï¼Œè€Œå›¾ç‰‡åœ°å€å°±æ— éœ€å‚ä¸")]),s._v(" "),t("li",[s._v("åˆ†è¯å™¨æ–¹é¢ï¼Œå¯ä»¥ç»Ÿä¸€ä½¿ç”¨ IK_MAX_WORD")])]),s._v(" "),t("p",[s._v("ä¸€ä¸ª Hotel é…’åº—ç´¢å¼•åº“ç¤ºä¾‹ï¼Œé€šè¿‡ PUT å‘½ä»¤åˆ›å»º")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("PUT /hotel\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"mappings"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"properties"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"analyzer"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ik_max_word"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"copy_to"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"all"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"address"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"price"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"integer"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"score"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"integer"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"brand"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"copy_to"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"all"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"city"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"copy_to"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"all"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"starName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"business"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"location"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"geo_point"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"pic"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keyword"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"all"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"analyzer"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ik_max_word"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br")])]),t("p",[s._v("å‡ ä¸ªç‰¹æ®Šå­—æ®µè¯´æ˜")]),s._v(" "),t("ul",[t("li",[s._v("locationï¼šåœ°ç†åæ ‡ï¼Œé‡Œé¢åŒ…å«ç²¾åº¦ã€çº¬åº¦")]),s._v(" "),t("li",[s._v("allï¼šä¸€ä¸ªç»„åˆå­—æ®µï¼Œå…¶ç›®çš„æ˜¯å°†å¤šå­—æ®µçš„å€¼ åˆ©ç”¨copy_toåˆå¹¶ï¼Œæä¾›ç»™ç”¨æˆ·æœç´¢")])]),s._v(" "),t("p",[s._v("location åœ°ç†åæ ‡")]),s._v(" "),t("img",{attrs:{src:a(839)}}),s._v(" "),t("p",[s._v("copy_to å±æ€§ï¼šå°†å½“å‰å­—æ®µæ‹·è´åˆ°æŒ‡å®šå­—æ®µ")]),s._v(" "),t("img",{attrs:{src:a(840)}}),s._v(" "),t("p",[s._v("å½“ç„¶äº†ï¼Œåœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ Java API æ¥æ“ä½œ ES æ•°æ®åº“ï¼š"),t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/client/index.html",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("Elasticsearch Clients | Elastic"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("å¼•å…¥ Java HighLevel Rest Clientä¾èµ–")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.elasticsearch.client"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("elasticsearch-rest-high-level-client"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("å› ä¸º SpringBoot é»˜è®¤çš„ ES ç‰ˆæœ¬æ˜¯ 7.6.2ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¦†ç›–é»˜è®¤çš„ ES ç‰ˆæœ¬ä¸è‡ªå·±çš„ç‰ˆæœ¬ä¸€è‡´")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("java.version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("1.8"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("java.version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("elasticsearch.version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("7.12.1"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("elasticsearch.version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("åˆå§‹åŒ– RestHighLevelClient å¹¶æ³¨å…¥ Bean")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestHighLevelClient")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("client")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestHighLevelClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://192.168.150.101:9200"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("è¿™é‡Œä¸ºäº†å•å…ƒæµ‹è¯•æ–¹ä¾¿ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±» HotelIndexTestï¼Œç„¶åå°†åˆå§‹åŒ–çš„ä»£ç ç¼–å†™åœ¨ @BeforeEach æ–¹æ³•ä¸­")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("cn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itcast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hotel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpHost")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("elasticsearch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestHighLevelClient")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("junit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jupiter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("api"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AfterEach")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("junit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jupiter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("api"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeforeEach")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("junit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jupiter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("api"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HotelIndexTest")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestHighLevelClient")]),s._v(" client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@BeforeEach")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestHighLevelClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://192.168.150.101:9200"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AfterEach")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tearDown")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("p",[s._v("CRUD æ–‡æ¡£åº“ Hotelï¼Œæœ¬è´¨ä¸Šå°±æ˜¯"),t("strong",[s._v("æ‹¼æ¥å­—ç¬¦ä¸²å’Œ HTTP è¯·æ±‚")]),s._v("ï¼Œå‘ ES æ•°æ®åº“"),t("strong",[s._v("å‘é€ DSL å‘½ä»¤")]),s._v("ï¼Œè€Œå ES è¿”å›æ‰§è¡Œç»“æœçš„è¿‡ç¨‹")]),s._v(" "),t("h3",{attrs:{id:"æ–‡æ¡£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ–‡æ¡£"}},[s._v("#")]),s._v(" æ–‡æ¡£")]),s._v(" "),t("p",[s._v("æ–‡æ¡£ä¹‹äºç´¢å¼•åº“ï¼Œå°±åƒæ•°æ®è¡¨ä¹‹äºæ•°æ®åº“ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒåŸºæœ¬ä¸Šæ˜¯å…ˆè¯»å– MySQL æ•°æ®è¡¨ä¸­çš„æ•°æ®ï¼Œç„¶åå†å­˜è¿› ES çš„æ–‡æ¡£ä¸­")]),s._v(" "),t("p",[s._v("æ–‡æ¡£æ“ä½œçš„åŸºæœ¬æ­¥éª¤ï¼šæ ¹æ®å‘é€è¯·æ±‚é‚£æ­¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå‘è¿‡æ¥åˆ¤æ–­éœ€è¦åˆ›å»ºä»€ä¹ˆ"),t("code",[s._v("XXXRequest")])]),s._v(" "),t("ol",[t("li",[s._v("åˆå§‹åŒ– RestHighLevelClient")]),s._v(" "),t("li",[s._v("åˆ›å»º"),t("code",[s._v("XXXRequest")]),s._v("ï¼ŒXXX å¯ä»¥æ˜¯ Indexã€Getã€Updateã€Deleteã€Bulk")]),s._v(" "),t("li",[s._v("å‡†å¤‡å‚æ•°ï¼ˆIndexã€Updateã€Bulkæ—¶éœ€è¦ï¼‰")]),s._v(" "),t("li",[s._v("å‘é€è¯·æ±‚ï¼šè°ƒç”¨"),t("code",[s._v("RestHighLevelClient.xxx()")]),s._v("æ–¹æ³•ï¼Œxxx æ˜¯ indexã€getã€updateã€deleteã€bulk")]),s._v(" "),t("li",[s._v("è§£æç»“æœï¼ˆGet æ—¶éœ€è¦ï¼‰")])]),s._v(" "),t("p",[s._v("ES çš„æŸ¥è¯¢æ˜¯ä¸€é—¨åŠŸå¤«ï¼Œç±»ä¼¼äº SQL çš„ç¼–å†™ï¼Œå¯ä»¥æœ‰å¾ˆå¤šæŸ¥è¯¢æ¡ä»¶å’Œå¤åˆåµŒå¥—è§„åˆ™")])])}),[],!1,null,null,null);t.default=e.exports},835:function(s,t,a){s.exports=a.p+"assets/img/2729274-20230205163347683-397320818.b336006b.png"},836:function(s,t,a){s.exports=a.p+"assets/img/2729274-20230205171722024-1222796164.ed917391.png"},837:function(s,t,a){s.exports=a.p+"assets/img/2729274-20230205173433826-368331600.e2c25075.png"},838:function(s,t,a){s.exports=a.p+"assets/img/2729274-20230205173438720-1124832591.60253107.png"},839:function(s,t,a){s.exports=a.p+"assets/img/2729274-20230205172124085-626335563.d46fdaf8.png"},840:function(s,t,a){s.exports=a.p+"assets/img/2729274-20230205172128097-289087887.b792eb38.png"}}]);