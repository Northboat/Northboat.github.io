<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | Northboat</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3129839_xft6cqs5gc.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <meta name="description" content="My Wiki">
    <meta name="keywords" content="Northboat, ComputerScience, DevOps, CyberSecurity">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.39b691be.css" as="style"><link rel="preload" href="/assets/js/app.d665c284.js" as="script"><link rel="preload" href="/assets/js/3.e0c187c4.js" as="script"><link rel="preload" href="/assets/js/40.f0fb9086.js" as="script"><link rel="preload" href="/assets/js/48.b84b247d.js" as="script"><link rel="prefetch" href="/assets/js/10.8b446fb8.js"><link rel="prefetch" href="/assets/js/100.6d6af7ec.js"><link rel="prefetch" href="/assets/js/101.a01ab463.js"><link rel="prefetch" href="/assets/js/102.fc27f167.js"><link rel="prefetch" href="/assets/js/103.b0ca1e97.js"><link rel="prefetch" href="/assets/js/104.ffac3a34.js"><link rel="prefetch" href="/assets/js/105.b1ac4684.js"><link rel="prefetch" href="/assets/js/106.4fe3c7ac.js"><link rel="prefetch" href="/assets/js/107.f19977e1.js"><link rel="prefetch" href="/assets/js/108.9af8395e.js"><link rel="prefetch" href="/assets/js/109.794bfaa7.js"><link rel="prefetch" href="/assets/js/11.db06f384.js"><link rel="prefetch" href="/assets/js/110.ffca72bb.js"><link rel="prefetch" href="/assets/js/111.ba5c10e2.js"><link rel="prefetch" href="/assets/js/112.46561130.js"><link rel="prefetch" href="/assets/js/113.a3bb5037.js"><link rel="prefetch" href="/assets/js/114.9c180cbe.js"><link rel="prefetch" href="/assets/js/115.e163bdca.js"><link rel="prefetch" href="/assets/js/116.dd003d05.js"><link rel="prefetch" href="/assets/js/117.a10ceaee.js"><link rel="prefetch" href="/assets/js/118.d7a69eee.js"><link rel="prefetch" href="/assets/js/119.efd43fb7.js"><link rel="prefetch" href="/assets/js/12.3514c31d.js"><link rel="prefetch" href="/assets/js/120.bfd3b1b1.js"><link rel="prefetch" href="/assets/js/121.ccab2aa1.js"><link rel="prefetch" href="/assets/js/122.b0beb5fd.js"><link rel="prefetch" href="/assets/js/123.df801efc.js"><link rel="prefetch" href="/assets/js/124.aced7a00.js"><link rel="prefetch" href="/assets/js/125.2d4b6d49.js"><link rel="prefetch" href="/assets/js/126.9c05d2d0.js"><link rel="prefetch" href="/assets/js/127.79e281c8.js"><link rel="prefetch" href="/assets/js/128.e7136e6e.js"><link rel="prefetch" href="/assets/js/129.f5b5a3fe.js"><link rel="prefetch" href="/assets/js/13.accb642f.js"><link rel="prefetch" href="/assets/js/130.92056d2d.js"><link rel="prefetch" href="/assets/js/131.b89aeeff.js"><link rel="prefetch" href="/assets/js/132.8925ad47.js"><link rel="prefetch" href="/assets/js/133.88d8155e.js"><link rel="prefetch" href="/assets/js/134.42bb1ffb.js"><link rel="prefetch" href="/assets/js/135.5fb603fd.js"><link rel="prefetch" href="/assets/js/136.3e7fb66a.js"><link rel="prefetch" href="/assets/js/137.ed2514d9.js"><link rel="prefetch" href="/assets/js/138.ab9cc780.js"><link rel="prefetch" href="/assets/js/139.208cc306.js"><link rel="prefetch" href="/assets/js/14.5c55299f.js"><link rel="prefetch" href="/assets/js/140.031c16a1.js"><link rel="prefetch" href="/assets/js/141.ada06046.js"><link rel="prefetch" href="/assets/js/142.51dd7d20.js"><link rel="prefetch" href="/assets/js/143.cb0985bf.js"><link rel="prefetch" href="/assets/js/144.b3ff947c.js"><link rel="prefetch" href="/assets/js/145.57c15072.js"><link rel="prefetch" href="/assets/js/146.4be9fcd0.js"><link rel="prefetch" href="/assets/js/147.b511bb37.js"><link rel="prefetch" href="/assets/js/148.f945a667.js"><link rel="prefetch" href="/assets/js/149.c119cf6d.js"><link rel="prefetch" href="/assets/js/15.1cd29e94.js"><link rel="prefetch" href="/assets/js/150.5278a95f.js"><link rel="prefetch" href="/assets/js/151.d4f9cc91.js"><link rel="prefetch" href="/assets/js/152.ee32104b.js"><link rel="prefetch" href="/assets/js/153.7de80bed.js"><link rel="prefetch" href="/assets/js/154.ae2a4226.js"><link rel="prefetch" href="/assets/js/155.a49ffbc1.js"><link rel="prefetch" href="/assets/js/156.56595e38.js"><link rel="prefetch" href="/assets/js/157.fd11a2fd.js"><link rel="prefetch" href="/assets/js/158.8e1ce051.js"><link rel="prefetch" href="/assets/js/159.f3797654.js"><link rel="prefetch" href="/assets/js/16.6390e543.js"><link rel="prefetch" href="/assets/js/160.503d405a.js"><link rel="prefetch" href="/assets/js/161.84686fe9.js"><link rel="prefetch" href="/assets/js/162.28a2072f.js"><link rel="prefetch" href="/assets/js/163.117abe35.js"><link rel="prefetch" href="/assets/js/164.8cc2b9b4.js"><link rel="prefetch" href="/assets/js/165.9a6ea5cc.js"><link rel="prefetch" href="/assets/js/166.3955fc54.js"><link rel="prefetch" href="/assets/js/167.c7218c4f.js"><link rel="prefetch" href="/assets/js/168.271174d5.js"><link rel="prefetch" href="/assets/js/169.9a537ed0.js"><link rel="prefetch" href="/assets/js/17.8ebb173d.js"><link rel="prefetch" href="/assets/js/170.f3b82e94.js"><link rel="prefetch" href="/assets/js/171.84fc3b5d.js"><link rel="prefetch" href="/assets/js/172.65a7dfdd.js"><link rel="prefetch" href="/assets/js/173.a901b46d.js"><link rel="prefetch" href="/assets/js/174.0d716402.js"><link rel="prefetch" href="/assets/js/175.d6e6efa2.js"><link rel="prefetch" href="/assets/js/176.666e3747.js"><link rel="prefetch" href="/assets/js/177.98bf8458.js"><link rel="prefetch" href="/assets/js/18.b64c4c5c.js"><link rel="prefetch" href="/assets/js/19.fa12655d.js"><link rel="prefetch" href="/assets/js/2.4eeb132c.js"><link rel="prefetch" href="/assets/js/20.bfff0801.js"><link rel="prefetch" href="/assets/js/21.e0d3cfac.js"><link rel="prefetch" href="/assets/js/22.e9dc3796.js"><link rel="prefetch" href="/assets/js/23.bd1f8714.js"><link rel="prefetch" href="/assets/js/24.d5125a79.js"><link rel="prefetch" href="/assets/js/25.066d11c5.js"><link rel="prefetch" href="/assets/js/26.4ba8fcc8.js"><link rel="prefetch" href="/assets/js/27.ea74c083.js"><link rel="prefetch" href="/assets/js/28.59749eb0.js"><link rel="prefetch" href="/assets/js/29.9716bc75.js"><link rel="prefetch" href="/assets/js/30.99c05562.js"><link rel="prefetch" href="/assets/js/31.cac4b1ce.js"><link rel="prefetch" href="/assets/js/32.2e2be4b1.js"><link rel="prefetch" href="/assets/js/33.a743588d.js"><link rel="prefetch" href="/assets/js/34.7139dcee.js"><link rel="prefetch" href="/assets/js/35.1d274260.js"><link rel="prefetch" href="/assets/js/36.46d12ee0.js"><link rel="prefetch" href="/assets/js/37.b0238cfc.js"><link rel="prefetch" href="/assets/js/38.91f68d90.js"><link rel="prefetch" href="/assets/js/39.ab0caa26.js"><link rel="prefetch" href="/assets/js/4.6e3273d6.js"><link rel="prefetch" href="/assets/js/41.622fb909.js"><link rel="prefetch" href="/assets/js/42.bb608400.js"><link rel="prefetch" href="/assets/js/43.3fe39c35.js"><link rel="prefetch" href="/assets/js/44.132f7ba5.js"><link rel="prefetch" href="/assets/js/45.99d6aff6.js"><link rel="prefetch" href="/assets/js/46.e801356c.js"><link rel="prefetch" href="/assets/js/47.3d676561.js"><link rel="prefetch" href="/assets/js/49.5ff8cdb5.js"><link rel="prefetch" href="/assets/js/5.0b35d4d2.js"><link rel="prefetch" href="/assets/js/50.98c0b12d.js"><link rel="prefetch" href="/assets/js/51.f7a866dc.js"><link rel="prefetch" href="/assets/js/52.e3d8fa57.js"><link rel="prefetch" href="/assets/js/53.60eb6a0e.js"><link rel="prefetch" href="/assets/js/54.a4bafab0.js"><link rel="prefetch" href="/assets/js/55.9c8e2edd.js"><link rel="prefetch" href="/assets/js/56.5fdf5a13.js"><link rel="prefetch" href="/assets/js/57.51b7f06f.js"><link rel="prefetch" href="/assets/js/58.f7abe603.js"><link rel="prefetch" href="/assets/js/59.6b1f320b.js"><link rel="prefetch" href="/assets/js/6.d18fd2c3.js"><link rel="prefetch" href="/assets/js/60.62f4f38a.js"><link rel="prefetch" href="/assets/js/61.38501521.js"><link rel="prefetch" href="/assets/js/62.fee979ea.js"><link rel="prefetch" href="/assets/js/63.46f817a7.js"><link rel="prefetch" href="/assets/js/64.643c6afc.js"><link rel="prefetch" href="/assets/js/65.dddab1ea.js"><link rel="prefetch" href="/assets/js/66.0f69b459.js"><link rel="prefetch" href="/assets/js/67.410494a2.js"><link rel="prefetch" href="/assets/js/68.8f136f88.js"><link rel="prefetch" href="/assets/js/69.aa93a998.js"><link rel="prefetch" href="/assets/js/7.7c0e5aae.js"><link rel="prefetch" href="/assets/js/70.f19c22ce.js"><link rel="prefetch" href="/assets/js/71.b6d585a6.js"><link rel="prefetch" href="/assets/js/72.e56642e2.js"><link rel="prefetch" href="/assets/js/73.95716e3c.js"><link rel="prefetch" href="/assets/js/74.7ba73646.js"><link rel="prefetch" href="/assets/js/75.639e3e42.js"><link rel="prefetch" href="/assets/js/76.9fb56389.js"><link rel="prefetch" href="/assets/js/77.2afc8ea1.js"><link rel="prefetch" href="/assets/js/78.5325feba.js"><link rel="prefetch" href="/assets/js/79.a60aab79.js"><link rel="prefetch" href="/assets/js/8.c4607f22.js"><link rel="prefetch" href="/assets/js/80.86f905f7.js"><link rel="prefetch" href="/assets/js/81.cd2fa884.js"><link rel="prefetch" href="/assets/js/82.4d41a346.js"><link rel="prefetch" href="/assets/js/83.b2b35bd6.js"><link rel="prefetch" href="/assets/js/84.37cadace.js"><link rel="prefetch" href="/assets/js/85.20fe3591.js"><link rel="prefetch" href="/assets/js/86.5aa28ec2.js"><link rel="prefetch" href="/assets/js/87.c546a477.js"><link rel="prefetch" href="/assets/js/88.afa359b6.js"><link rel="prefetch" href="/assets/js/89.8a2b6a89.js"><link rel="prefetch" href="/assets/js/9.8da42e60.js"><link rel="prefetch" href="/assets/js/90.4d38ecdd.js"><link rel="prefetch" href="/assets/js/91.bdb514f9.js"><link rel="prefetch" href="/assets/js/92.0b3ad886.js"><link rel="prefetch" href="/assets/js/93.db102d93.js"><link rel="prefetch" href="/assets/js/94.842bc20b.js"><link rel="prefetch" href="/assets/js/95.1972b8ee.js"><link rel="prefetch" href="/assets/js/96.c9a692d9.js"><link rel="prefetch" href="/assets/js/97.3836e0e5.js"><link rel="prefetch" href="/assets/js/98.77f44ee0.js"><link rel="prefetch" href="/assets/js/99.51e8e751.js">
    <link rel="stylesheet" href="/assets/css/0.styles.39b691be.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Northboat" class="logo"> <span class="site-name can-hide">Northboat</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/cs/" class="nav-link">计算机科学与技术</a></div><div class="nav-item"><a href="/dev/" class="nav-link">开发与运维</a></div><div class="nav-item"><a href="/sec/" class="nav-link">网络与信息安全</a></div><div class="nav-item"><a href="/mine/" class="nav-link">我的</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/Northboat" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>Northboat</h3> <span>就在坚冰还盖着北海的时候，我看到了怒放的梅花</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/cs/" class="nav-link">计算机科学与技术</a></div><div class="nav-item"><a href="/dev/" class="nav-link">开发与运维</a></div><div class="nav-item"><a href="/sec/" class="nav-link">网络与信息安全</a></div><div class="nav-item"><a href="/mine/" class="nav-link">我的</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/Northboat" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运维</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端开发</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>前端基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e12125/" class="sidebar-link">HTML</a></li><li><a href="/pages/5cc753/" class="sidebar-link">CSS</a></li><li><a href="/pages/ce238b/" class="sidebar-link">JavaScript</a></li><li><a href="/pages/25e831/" class="sidebar-link">Vue</a></li><li><a href="/pages/b85196/" aria-current="page" class="active sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/b85196/#react-基础" class="sidebar-link">React 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/b85196/#什么是-react" class="sidebar-link">什么是 React</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#react-vs-vue" class="sidebar-link">React VS. Vue</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/b85196/#mantis-react" class="sidebar-link">Mantis React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/b85196/#项目结构" class="sidebar-link">项目结构</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#登录实现" class="sidebar-link">登录实现</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#点击事件" class="sidebar-link">点击事件</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#api-定义" class="sidebar-link">API 定义</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#钩子函数" class="sidebar-link">钩子函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#路由注册" class="sidebar-link">路由注册</a></li><li class="sidebar-sub-header level3"><a href="/pages/b85196/#项目启动" class="sidebar-link">项目启动</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Markdown 和博客</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>客户端开发</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/dev/#开发与运维" data-v-06970110>开发与运维</a></li><li data-v-06970110><a href="/dev/#前端开发" data-v-06970110>前端开发</a></li><li data-v-06970110><a href="/dev/#前端基础" data-v-06970110>前端基础</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/Northboat" target="_blank" title="作者" class="beLink" data-v-06970110>Northboat</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2024-5-29</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">React<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="react-基础"><a href="#react-基础" class="header-anchor">#</a> React 基础</h2> <h3 id="什么是-react"><a href="#什么是-react" class="header-anchor">#</a> 什么是 React</h3> <p>React 是一个 <strong>用于构建用户界面（UI）</strong> 的 <strong>JavaScript 库</strong>，由 Facebook（现在的 Meta）开发和维护。它专注于构建<strong>视图层</strong>，通过组件化的方式来构建界面，并鼓励<strong>声明式编程</strong>和<strong>单向数据流</strong></p> <p>核心特点</p> <p>1️⃣ 组件化开发：组件即函数</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2️⃣ JSX 语法：React 推荐使用 JSX，一种在 JavaScript 中写 HTML 的语法糖</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
</code></pre></div><p>这看起来像 HTML，其实是被 Babel 编译为<code>React.createElement()</code>的 JavaScript 调用</p> <p>3️⃣ 声明式 UI：例如你不需要自己操作 DOM 来更新<code>count</code>，React 自动帮你更新</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Clicked </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text"> times</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>4️⃣ 状态和 Hooks：使用<code>useState</code>、<code>useEffect</code>等 Hook 来管理组件状态和生命周期</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;组件渲染了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>5️⃣ 虚拟 DOM：React 在内存中维护一个“虚拟 DOM”，对比前后变化后，<strong>只更新必要的部分</strong>，提升性能</p> <p>React 可用于</p> <ul><li>Web 应用（配合 React Router）</li> <li>移动端应用（React Native）</li> <li>桌面应用（Electron + React）</li> <li>服务端渲染（Next.js）</li></ul> <p>注意：React 不是全能框架，它<strong>只负责“视图层”</strong>，需要根据项目需求搭配</p> <p>说白了，就是一个 JS 库，通过 JSX 语法糖支持 JS 和 HTML 的混合编写，而后通过 JS 函数返回前端组件（所谓函数式编程），经过一层层嵌入实现一个完整的 HTML 页面，而页面上的数据请求逻辑在函数中就已经写好了，最后返回的组件是封装完好的</p> <ul><li>这是 JS 和 HTML 混合编写的好处，即在一个函数中实现完整的组件开发：包括后端请求和前端渲染</li></ul> <h3 id="react-vs-vue"><a href="#react-vs-vue" class="header-anchor">#</a> React VS. Vue</h3> <p>基本概念</p> <table><thead><tr><th>特性</th> <th>Vue</th> <th>React</th></tr></thead> <tbody><tr><td>框架类型</td> <td>渐进式框架</td> <td>库（Library）更偏向 UI 层</td></tr> <tr><td>哲学思想</td> <td>MVVM 模式，关注“响应式”</td> <td>函数式编程 + 单向数据流</td></tr> <tr><td>核心驱动</td> <td>模板语法 + 响应式系统</td> <td>JSX + 虚拟 DOM</td></tr> <tr><td>官方维护</td> <td>Vue 全家桶（Vuex、Vue Router、Vue CLI）</td> <td>React 核心 + 社区支持生态（Redux、React Router、Vite等）</td></tr></tbody></table> <p>组件写法，React 采用函数式编程，函数即组件，而 Vue 是“模板语法”，例如一个简单的 Vue 组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello Vue!'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对比一个简单的 React 组件</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Hello React!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这本质上因为</p> <ul><li>Vue 使用的是 SFC（Single File Component），有模板+逻辑+样式，是传统的前端思路</li> <li>React 是 JSX（JavaScript + XML），逻辑和模板写在一起，更自由，更代码化</li> <li>React 的函数组件是主流（类组件已不推荐），配合 Hook 实现状态和生命周期管理</li></ul> <p>生命周期对比</p> <table><thead><tr><th>生命周期阶段</th> <th>Vue (3.x Composition API)</th> <th>React (Hook)</th></tr></thead> <tbody><tr><td>创建前</td> <td><code>setup()</code></td> <td><code>useEffect(() =&gt; {}, [])</code></td></tr> <tr><td>更新时</td> <td><code>onUpdated</code></td> <td><code>useEffect(() =&gt; { ... }, [deps])</code></td></tr> <tr><td>卸载时</td> <td><code>onUnmounted</code></td> <td><code>useEffect(() =&gt; { return () =&gt; {} }, [])</code></td></tr></tbody></table> <p>React 通过<code>useEffect</code>模拟生命周期，不再是“声明式生命周期钩子”，而是函数内使用 Hook，可以将<code>useEffect</code>理解为 React 的钩子函数</p> <p>状态管理</p> <table><thead><tr><th>特性</th> <th>Vue</th> <th>React</th></tr></thead> <tbody><tr><td>简单状态管理</td> <td><code>reactive()</code>、<code>ref()</code></td> <td><code>useState()</code>、<code>useReducer()</code></td></tr> <tr><td>全局状态管理</td> <td>Vuex / Pinia</td> <td>Redux、Zustand、Recoil 等</td></tr></tbody></table> <p>路由和生态</p> <table><thead><tr><th>特性</th> <th>Vue</th> <th>React</th></tr></thead> <tbody><tr><td>简单状态管理</td> <td><code>reactive()</code>、<code>ref()</code></td> <td><code>useState()</code>、<code>useReducer()</code></td></tr> <tr><td>全局状态管理</td> <td>Vuex / Pinia</td> <td>Redux、Zustand、Recoil 等</td></tr></tbody></table> <p>其他差异</p> <table><thead><tr><th>特性</th> <th>Vue</th> <th>React</th></tr></thead> <tbody><tr><td>模板逻辑</td> <td>推荐模板中少写逻辑</td> <td>JSX中可写任意 JS 表达式</td></tr> <tr><td>表单处理</td> <td><code>v-model</code> 简洁</td> <td>需手动 <code>onChange</code> + <code>value</code></td></tr> <tr><td>条件渲染</td> <td><code>v-if</code> / <code>v-show</code></td> <td>三元表达式 <code>condition ? ... : ...</code></td></tr> <tr><td>列表渲染</td> <td><code>v-for</code></td> <td><code>map()</code> 函数</td></tr></tbody></table> <p>如何选择？</p> <table><thead><tr><th>场景</th> <th>推荐</th></tr></thead> <tbody><tr><td>喜欢模板式开发、快速上手</td> <td>Vue 更合适</td></tr> <tr><td>偏好函数式、JS 灵活度高、生态庞大</td> <td>React 更强大</td></tr> <tr><td>需要大型工程能力（SSR、Server Component）</td> <td>React（Next.js）领先一些</td></tr> <tr><td>偏向移动端（小程序等）</td> <td>Vue（uni-app、Taro）更亲民</td></tr></tbody></table> <h2 id="mantis-react"><a href="#mantis-react" class="header-anchor">#</a> Mantis React</h2> <p>基于模板开发：<a href="https://github.com/codedthemes/mantis-free-react-admin-template/" target="_blank" rel="nofollow noopener noreferrer">codedthemes/mantis-free-react-admin-template: Mantis is React Dashboard Template having combine tone of 2 popular react component library - MUI and Ant Design principles.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>文档：<a href="https://codedthemes.gitbook.io/mantis" target="_blank" rel="nofollow noopener noreferrer">Documentation | Mantis MUI React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="项目结构"><a href="#项目结构" class="header-anchor">#</a> 项目结构</h3> <p>src 目录结构</p> <img src="/assets/img/image-20250529133303182.158c3d71.png"> <p>主要改写的就是 pages 目录下的页面</p> <img src="/assets/img/image-20250529133406413.1133983f.png"> <h3 id="登录实现"><a href="#登录实现" class="header-anchor">#</a> 登录实现</h3> <p>实现这样一个页面</p> <img src="/assets/img/image-20250529141138902.b2bd3ca6.png"> <p><code>/pages/authentication/Login.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token comment">// material-ui</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Grid<span class="token punctuation">,</span> Stack<span class="token punctuation">,</span> Typography <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mui/material'</span><span class="token punctuation">;</span>

<span class="token comment">// project import</span>
<span class="token keyword">import</span> AuthLogin <span class="token keyword">from</span> <span class="token string">'./auth-forms/AuthLogin'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AuthWrapper <span class="token keyword">from</span> <span class="token string">'./AuthWrapper'</span><span class="token punctuation">;</span>

<span class="token comment">// ================================|| LOGIN ||================================ //</span>

<span class="token keyword">const</span> <span class="token function-variable function">Login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>AuthWrapper<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Grid container spacing<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Stack direction<span class="token operator">=</span><span class="token string">&quot;row&quot;</span> justifyContent<span class="token operator">=</span><span class="token string">&quot;space-between&quot;</span> alignItems<span class="token operator">=</span><span class="token string">&quot;baseline&quot;</span> sx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">mb</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">xs</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token literal-property property">sm</span><span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Typography variant<span class="token operator">=</span><span class="token string">&quot;h3&quot;</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>Typography<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Typography component<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">&quot;#&quot;</span> variant<span class="token operator">=</span><span class="token string">&quot;body1&quot;</span> sx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">textDecoration</span><span class="token operator">:</span> <span class="token string">'none'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> color<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span><span class="token operator">&gt;</span>
            新用户自动注册
          <span class="token operator">&lt;</span><span class="token operator">/</span>Typography<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* &lt;Typography component={Link} to=&quot;/register&quot; variant=&quot;body1&quot; sx={{ textDecoration: 'none' }} color=&quot;primary&quot;&gt;
            Don&amp;apos;t have an account?
          &lt;/Typography&gt; */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Stack<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>AuthLogin <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>AuthWrapper<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login<span class="token punctuation">;</span>
</code></pre></div><p>很显然这里用到了组件 AuthLogin，来自<code>/pages/authentication/AuthLogin.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token keyword">as</span> RouterLink <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token comment">// material-ui</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Button<span class="token punctuation">,</span>
  Checkbox<span class="token punctuation">,</span>
  Divider<span class="token punctuation">,</span>
  FormControlLabel<span class="token punctuation">,</span>
  FormHelperText<span class="token punctuation">,</span>
  Grid<span class="token punctuation">,</span>
  Link<span class="token punctuation">,</span>
  IconButton<span class="token punctuation">,</span>
  InputAdornment<span class="token punctuation">,</span>
  InputLabel<span class="token punctuation">,</span>
  OutlinedInput<span class="token punctuation">,</span>
  Stack<span class="token punctuation">,</span>
  Typography<span class="token punctuation">,</span>
  MenuItem<span class="token punctuation">,</span>
  FormControl<span class="token punctuation">,</span>
  Select
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mui/material'</span><span class="token punctuation">;</span>
<span class="token comment">// third party</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Yup <span class="token keyword">from</span> <span class="token string">'yup'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Formik <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'formik'</span><span class="token punctuation">;</span>

<span class="token comment">// project import</span>
<span class="token keyword">import</span> FirebaseSocial <span class="token keyword">from</span> <span class="token string">'./FirebaseSocial'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AnimateButton <span class="token keyword">from</span> <span class="token string">'components/@extended/AnimateButton'</span><span class="token punctuation">;</span>

<span class="token comment">// assets</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> EyeOutlined<span class="token punctuation">,</span> EyeInvisibleOutlined <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token comment">// ============================|| FIREBASE - LOGIN ||============================ </span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> userLoginService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'api'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">AuthLogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>checked<span class="token punctuation">,</span> setChecked<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>domain<span class="token punctuation">,</span> setDomain<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Adomain'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>attributeList<span class="token punctuation">,</span> setAttributeList<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'(2,4,5,6)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleDomainChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> SelectChangeEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setDomain</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleChangeAttributeList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> SelectChangeEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setAttributeList</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>showPassword<span class="token punctuation">,</span> setShowPassword<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleClickShowPassword</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setShowPassword</span><span class="token punctuation">(</span><span class="token operator">!</span>showPassword<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleMouseDownPassword</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> nav <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Formik
        initialValues<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
          <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">domain</span><span class="token operator">:</span> <span class="token string">'Adomain'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attributeset</span><span class="token operator">:</span> <span class="token string">'(2,4,5,6)'</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
        validationSchema<span class="token operator">=</span><span class="token punctuation">{</span>Yup<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">username</span><span class="token operator">:</span> Yup<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token string">'请填写用户名'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">values<span class="token punctuation">,</span> <span class="token punctuation">{</span> setErrors<span class="token punctuation">,</span> setStatus<span class="token punctuation">,</span> setSubmitting <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> domain<span class="token punctuation">,</span> attributeset <span class="token punctuation">}</span> <span class="token operator">=</span> values<span class="token punctuation">;</span>
          localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
          localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'domain'</span><span class="token punctuation">,</span> domain<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;username&quot;</span> <span class="token operator">:</span> username<span class="token punctuation">,</span>
            <span class="token string-property property">&quot;domain&quot;</span> <span class="token operator">:</span> domain<span class="token punctuation">,</span>
            <span class="token string-property property">&quot;attributeset&quot;</span> <span class="token operator">:</span> attributeset
          <span class="token punctuation">}</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
          <span class="token function">userLoginService</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setSubmitting</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">nav</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setErrors</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">submit</span><span class="token operator">:</span> err<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setSubmitting</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> errors<span class="token punctuation">,</span> handleBlur<span class="token punctuation">,</span> handleChange<span class="token punctuation">,</span> handleSubmit<span class="token punctuation">,</span> isSubmitting<span class="token punctuation">,</span> touched<span class="token punctuation">,</span> values <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>form noValidate onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Grid container spacing<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Stack spacing<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>InputLabel htmlFor<span class="token operator">=</span><span class="token string">&quot;username-login&quot;</span><span class="token operator">&gt;</span>用户名<span class="token operator">&lt;</span><span class="token operator">/</span>InputLabel<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>OutlinedInput
                    id<span class="token operator">=</span><span class="token string">&quot;username-login&quot;</span>
                    type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
                    value<span class="token operator">=</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
                    name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span>
                    onBlur<span class="token operator">=</span><span class="token punctuation">{</span>handleBlur<span class="token punctuation">}</span>
                    onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
                    placeholder<span class="token operator">=</span><span class="token string">&quot;请输入用户名&quot;</span>
                    fullWidth
                    error<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">Boolean</span><span class="token punctuation">(</span>touched<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span> errors<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">}</span>
                  <span class="token operator">/</span><span class="token operator">&gt;</span>
                  <span class="token punctuation">{</span>touched<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span> errors<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                    <span class="token operator">&lt;</span>FormHelperText error id<span class="token operator">=</span><span class="token string">&quot;standard-weight-helper-text-username-login&quot;</span><span class="token operator">&gt;</span>
                      <span class="token punctuation">{</span>errors<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>FormHelperText<span class="token operator">&gt;</span>
                  <span class="token punctuation">)</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Stack<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Stack spacing<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                  <span class="token punctuation">{</span><span class="token comment">/* &lt;InputLabel htmlFor=&quot;password-login&quot;&gt;所属域&lt;/InputLabel&gt; */</span><span class="token punctuation">}</span>
                  <span class="token operator">&lt;</span>FormControl variant<span class="token operator">=</span><span class="token string">&quot;standard&quot;</span> sx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">m</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">minWidth</span><span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>InputLabel id<span class="token operator">=</span><span class="token string">&quot;demo-simple-select-standard-label&quot;</span><span class="token operator">&gt;</span>所属域<span class="token operator">&lt;</span><span class="token operator">/</span>InputLabel<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Select
                      labelId<span class="token operator">=</span><span class="token string">&quot;demo-simple-select-standard-label&quot;</span>
                      id<span class="token operator">=</span><span class="token string">&quot;demo-simple-select-standard&quot;</span>
                      value<span class="token operator">=</span><span class="token punctuation">{</span>domain<span class="token punctuation">}</span>
                      onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleDomainChange<span class="token punctuation">}</span>
                      label<span class="token operator">=</span><span class="token string">&quot;domain&quot;</span>
                    <span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>MenuItem value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'Adomain'</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Adomain<span class="token operator">&lt;</span><span class="token operator">/</span>MenuItem<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>MenuItem value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'Bdomain'</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Bdomain<span class="token operator">&lt;</span><span class="token operator">/</span>MenuItem<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Select<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>FormControl<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Stack<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Stack spacing<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>FormControl variant<span class="token operator">=</span><span class="token string">&quot;standard&quot;</span> sx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">m</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">minWidth</span><span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>InputLabel id<span class="token operator">=</span><span class="token string">&quot;demo-simple-select-standard-label&quot;</span><span class="token operator">&gt;</span>属性集<span class="token operator">&lt;</span><span class="token operator">/</span>InputLabel<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Select
                      labelId<span class="token operator">=</span><span class="token string">&quot;demo-simple-select-standard-label&quot;</span>
                      id<span class="token operator">=</span><span class="token string">&quot;demo-simple-select-standard&quot;</span>
                      value<span class="token operator">=</span><span class="token punctuation">{</span>attributeList<span class="token punctuation">}</span>
                      onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChangeAttributeList<span class="token punctuation">}</span>
                      label<span class="token operator">=</span><span class="token string">&quot;domain&quot;</span>
                    <span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>MenuItem value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'(2,4,5,6)'</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>MenuItem<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>MenuItem value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'(1,2,3)'</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>MenuItem<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>MenuItem value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'(1,2,3,4)'</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>MenuItem<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>MenuItem value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'(1,2,3,4,5)'</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>MenuItem<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Select<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>FormControl<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Stack<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>

              <span class="token punctuation">{</span>errors<span class="token punctuation">.</span>submit <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>FormHelperText error<span class="token operator">&gt;</span><span class="token punctuation">{</span>errors<span class="token punctuation">.</span>submit<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>FormHelperText<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
              <span class="token punctuation">)</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span>Grid item xs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>AnimateButton<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>Button disableElevation disabled<span class="token operator">=</span><span class="token punctuation">{</span>isSubmitting<span class="token punctuation">}</span> fullWidth size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> variant<span class="token operator">=</span><span class="token string">&quot;contained&quot;</span> color<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span><span class="token operator">&gt;</span>
                    登录
                  <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>AnimateButton<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Formik<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AuthLogin<span class="token punctuation">;</span>
</code></pre></div><p>在这定义了登录按钮时间，通过 onSubmit 绑定 Formik 标签</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>Formik
initialValues<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
               <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span>
               <span class="token literal-property property">domain</span><span class="token operator">:</span> <span class="token string">'Adomain'</span><span class="token punctuation">,</span>
               <span class="token literal-property property">attributeset</span><span class="token operator">:</span> <span class="token string">'(2,4,5,6)'</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
              validationSchema<span class="token operator">=</span><span class="token punctuation">{</span>Yup<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">username</span><span class="token operator">:</span> Yup<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token string">'请填写用户名'</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
              onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">values<span class="token punctuation">,</span> <span class="token punctuation">{</span> setErrors<span class="token punctuation">,</span> setStatus<span class="token punctuation">,</span> setSubmitting <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> domain<span class="token punctuation">,</span> attributeset <span class="token punctuation">}</span> <span class="token operator">=</span> values<span class="token punctuation">;</span>
                  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'domain'</span><span class="token punctuation">,</span> domain<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
                      <span class="token string-property property">&quot;username&quot;</span> <span class="token operator">:</span> username<span class="token punctuation">,</span>
                      <span class="token string-property property">&quot;domain&quot;</span> <span class="token operator">:</span> domain<span class="token punctuation">,</span>
                      <span class="token string-property property">&quot;attributeset&quot;</span> <span class="token operator">:</span> attributeset
                  <span class="token punctuation">}</span>
                  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
                  <span class="token function">userLoginService</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">setSubmitting</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">nav</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">setErrors</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">submit</span><span class="token operator">:</span> err<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">setSubmitting</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
                  <span class="token operator">&gt;</span>
</code></pre></div><h3 id="点击事件"><a href="#点击事件" class="header-anchor">#</a> 点击事件</h3> <p>主页内容</p> <img src="/assets/img/image-20250529143728531.ec738680.png"> <p>由<code>/pages/access-control/index.jsx</code>定义：<a href="https://github.com/Arkrypto/Ark-Blockchain-Archetype/blob/main/frontend/src/pages/access-control/index.jsx" target="_blank" rel="nofollow noopener noreferrer">Ark-Blockchain-Archetype/frontend/src/pages/access-control/index.jsx at main · Arkrypto/Ark-Blockchain-Archetype<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>其实就是一个页面，通过不同的<code>Dialog</code>来控制<code>Card</code>展示，以文件上传弹窗为例</p> <img src="/assets/img/image-20250529143843175.94c57616.png"> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 文件上传弹窗</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>isUploadShow<span class="token punctuation">,</span> setIsUploadShow<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 控制弹窗显示</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>fileUploadParams<span class="token punctuation">,</span> setFileUploadParams<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token constant">FILEUPLOADPARAMS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">setFileName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setFileUploadParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>fileUploadParams<span class="token punctuation">,</span> <span class="token literal-property property">filename</span><span class="token operator">:</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">setContent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setFileUploadParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>fileUploadParams<span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">setAccessTree</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setFileUploadParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>fileUploadParams<span class="token punctuation">,</span> <span class="token literal-property property">accesstree</span><span class="token operator">:</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">handleFileUpload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>fileUploadParams<span class="token punctuation">,</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token literal-property property">domain</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'domain'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传请求参数:&quot;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token function">fileUploadService</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'200'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setIsUploadShow</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">handleMsgShow</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传成功&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">setIsUploadShow</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">handleMsgShow</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传失败&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// console.log(&quot;nmsl&quot;)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setIsUploadShow</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleMsgShow</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>其中<code>fileUploadService</code>函数在<code>/api/file.js</code>中定义，就是一个简单的 JS Post 请求</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'../utils/request'</span><span class="token punctuation">;</span>

<span class="token comment">// 文件上传</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fileUploadService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/file/upload'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 订阅外包服务</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fileOutSourceService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/file/outsource/set'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 域内文件下载</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fileInDomainDlService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/file/indomain/download'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 跨域访问服务（跨域文件下载）</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fileCrossDomainDlService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/file/crossdomain/download'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 密钥协商</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getKeyService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/getKey'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="api-定义"><a href="#api-定义" class="header-anchor">#</a> API 定义</h3> <p>在<code>/api/xxx.js</code>下定义方法接口，其请求的 URL 前缀定义在 craco.config.js 中</p> <img src="/assets/img/image-20250529145015901.6f136699.png"> <p><code>craco.config.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// webpack 配置</span>
  <span class="token literal-property property">webpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 配置别名</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 约定：使用 @ 表示 src 文件所在路径</span>
      <span class="token string-property property">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 配置代理解决跨域</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://139.155.96.38:8080'</span><span class="token punctuation">,</span> <span class="token comment">// https://xxx.com</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token string">'/'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">'/shit'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://139.155.96.38:5000'</span><span class="token punctuation">,</span> <span class="token comment">// https://xxx.com</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">'^/shit'</span><span class="token operator">:</span> <span class="token string">'/'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>即前缀<code>/api</code>将会被自动解析为<code>http://139.155.96.38:8080</code>，同理<code>/shit</code>将会被自动解析为<code>http://139.155.96.38:5000</code></p> <ul><li>为什么会单独有个<code>/shit</code>前缀，因为之前这个项目的区块链部分后端是单独写的，用 Flask 跑在 5000，后来加了一层网关，就只有<code>/api</code>了</li></ul> <p>至于这个前缀的使用，在<code>/src/utils/request.js</code>中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> contextType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-copy-to-clipboard'</span><span class="token punctuation">;</span>

<span class="token comment">// 创建 axios 实例</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token comment">//根路径，配置在 craco.config.js 中</span>
  <span class="token comment">// baseURL: 'http://139.155.96.38:8080', //根路径</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token comment">//请求过期时间</span>
  <span class="token literal-property property">contextType</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//请求拦截器</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//响应拦截器</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> instance<span class="token punctuation">;</span>
</code></pre></div><p>通过<code>request.post()/get()</code>创建 axios 请求</p> <h3 id="钩子函数"><a href="#钩子函数" class="header-anchor">#</a> 钩子函数</h3> <p>在进入溯源页面时，需要对统计信息进行请求</p> <img src="/assets/img/image-20250529144608581.fdded04a.png"> <p><code>/api/detect.js</code>中该部分 API 请求定义</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'../utils/request'</span><span class="token punctuation">;</span>

<span class="token comment">// 异常分析</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">detectResultService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/detect/result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">detectResultListService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/detect/resultlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">detectAllService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/detect/all'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">detectIDService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/detect/id'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>

<span class="token comment">// 溯源</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">traceSourceService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/trace/source'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>/pages/detect/index.js</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token keyword">as</span> RouterLink<span class="token punctuation">,</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token comment">// material-ui</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    Avatar<span class="token punctuation">,</span>
    AvatarGroup<span class="token punctuation">,</span>
    Box<span class="token punctuation">,</span>
    Button<span class="token punctuation">,</span>
    Grid<span class="token punctuation">,</span>
    List<span class="token punctuation">,</span>
    ListItemAvatar<span class="token punctuation">,</span>
    ListItemButton<span class="token punctuation">,</span>
    ListItemSecondaryAction<span class="token punctuation">,</span>
    ListItemText<span class="token punctuation">,</span>
    MenuItem<span class="token punctuation">,</span>
    Stack<span class="token punctuation">,</span>
    TextField<span class="token punctuation">,</span>
    Typography
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mui/material'</span><span class="token punctuation">;</span>

<span class="token comment">// project import</span>
<span class="token keyword">import</span> OrdersTable <span class="token keyword">from</span> <span class="token string">'./OrdersTable'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> IncomeAreaChart <span class="token keyword">from</span> <span class="token string">'./IncomeAreaChart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MonthlyBarChart <span class="token keyword">from</span> <span class="token string">'./MonthlyBarChart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReportAreaChart <span class="token keyword">from</span> <span class="token string">'./ReportAreaChart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SalesColumnChart <span class="token keyword">from</span> <span class="token string">'./SalesColumnChart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MainCard <span class="token keyword">from</span> <span class="token string">'components/MainCard'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AnalyticEcommerce <span class="token keyword">from</span> <span class="token string">'components/cards/statistics/AnalyticEcommerce'</span><span class="token punctuation">;</span>
<span class="token comment">// assets</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GiftOutlined<span class="token punctuation">,</span> MessageOutlined<span class="token punctuation">,</span> SettingOutlined <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> avatar1 <span class="token keyword">from</span> <span class="token string">'assets/images/users/avatar-1.png'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> avatar2 <span class="token keyword">from</span> <span class="token string">'assets/images/users/avatar-2.png'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> avatar3 <span class="token keyword">from</span> <span class="token string">'assets/images/users/avatar-3.png'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> avatar4 <span class="token keyword">from</span> <span class="token string">'assets/images/users/avatar-4.png'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> detectResultService<span class="token punctuation">,</span> detectResultListService<span class="token punctuation">,</span> detectAllService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'api/detect'</span><span class="token punctuation">;</span>


<span class="token comment">// avatar style</span>
<span class="token keyword">const</span> avatarSX <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'1rem'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// action style</span>
<span class="token keyword">const</span> actionSX <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">mt</span><span class="token operator">:</span> <span class="token number">0.75</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ml</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alignSelf</span><span class="token operator">:</span> <span class="token string">'flex-start'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">'none'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// sales report status</span>
<span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'today'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Today'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'month'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'This Month'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'year'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'This Year'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ==============================|| DASHBOARD - DEFAULT</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Detect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'today'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>slot<span class="token punctuation">,</span> setSlot<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'week'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>totalInfo<span class="token punctuation">,</span> setTotalInfo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// TOTAL_INFO.checkNum += 500</span>
        <span class="token comment">// alert(&quot;test&quot;)</span>
        <span class="token comment">// setTotalInfo(TOTAL_INFO);</span>
        <span class="token keyword">let</span> total_info <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">checkNum</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token literal-property property">errorNum</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token literal-property property">brokenNum</span><span class="token operator">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// detect/all</span>
        <span class="token function">detectAllService</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求数据为空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            total_info<span class="token punctuation">.</span>checkNum <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            total_info<span class="token punctuation">.</span>errorNum <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            total_info<span class="token punctuation">.</span>brokenNum <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total_info<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setTotalInfo</span><span class="token punctuation">(</span>total_info<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求数据总计失败&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">container</span> <span class="token attr-name">rowSpacing</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4.5</span><span class="token punctuation">}</span></span> <span class="token attr-name">columnSpacing</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2.75</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/* row 1 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token attr-name">xs</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span> <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">mb</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2.25</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Typography</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">数据总计</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Typography</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token attr-name">xs</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span> <span class="token attr-name">sm</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span> <span class="token attr-name">md</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span> <span class="token attr-name">lg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AnalyticEcommerce</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>共检测次数<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>totalInfo<span class="token punctuation">.</span>checkNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token attr-name">xs</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span> <span class="token attr-name">sm</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span> <span class="token attr-name">md</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span> <span class="token attr-name">lg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AnalyticEcommerce</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>异常行为<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>totalInfo<span class="token punctuation">.</span>errorNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linear-gradient(120deg, #f093fb 0%, #f5576c 100%)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token attr-name">xs</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span> <span class="token attr-name">sm</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span> <span class="token attr-name">md</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span> <span class="token attr-name">lg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AnalyticEcommerce</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设备故障<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>totalInfo<span class="token punctuation">.</span>brokenNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token attr-name">md</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">8</span><span class="token punctuation">}</span></span> <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">sm</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span> <span class="token literal-property property">md</span><span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">,</span> <span class="token literal-property property">lg</span><span class="token operator">:</span> <span class="token string">'none'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">

            </span><span class="token punctuation">{</span><span class="token comment">/* row 2 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/* 数据记录和设备异常情况，写在IncomeAreaChart.js里 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IncomeAreaChart</span></span> <span class="token attr-name">slot</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>slot<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">


            </span><span class="token punctuation">{</span><span class="token comment">/* row 3 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/* 设备信息，写在OrdersTable.js里 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token attr-name">xs</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span> <span class="token attr-name">md</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span> <span class="token attr-name">lg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">container</span> <span class="token attr-name">alignItems</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">justifyContent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>space-between<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Typography</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">设备信息</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Typography</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MainCard</span></span> <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">mt</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">content</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">          
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OrdersTable</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MainCard</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Detect<span class="token punctuation">;</span>
</code></pre></div><p>在这个页面载入时，就会触发<code>useEffect</code>中的函数，这是一个 axios 请求<code>/detect/all</code>接口，而后将本地变量赋值并展示</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// TOTAL_INFO.checkNum += 500</span>
    <span class="token comment">// alert(&quot;test&quot;)</span>
    <span class="token comment">// setTotalInfo(TOTAL_INFO);</span>
    <span class="token keyword">let</span> total_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">checkNum</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token literal-property property">errorNum</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token literal-property property">brokenNum</span><span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// detect/all</span>
    <span class="token function">detectAllService</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求数据为空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        total_info<span class="token punctuation">.</span>checkNum <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        total_info<span class="token punctuation">.</span>errorNum <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        total_info<span class="token punctuation">.</span>brokenNum <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total_info<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTotalInfo</span><span class="token punctuation">(</span>total_info<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求数据总计失败&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以发现这个页面中还有一个 OrdersTable 组件，定义在<code>/pages/detect/OrdersTable</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 导入、变量定义略 //</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">OrderTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>order<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'asc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>orderBy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'trackingNo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>selected<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>deviceInfos<span class="token punctuation">,</span> setDeviceInfos<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">isSelected</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">trackingNo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> selected<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>trackingNo<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> nav <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleOpen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ip</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// setOpen(true);</span>
        <span class="token comment">// console.log(ip)</span>
        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;ip&quot;</span><span class="token punctuation">,</span> ip<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">nav</span><span class="token punctuation">(</span><span class="token string">'/history'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setDeviceInfos</span><span class="token punctuation">(</span><span class="token constant">DEVICE_INFO</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// detect/resultlist</span>
        <span class="token function">detectResultListService</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求数据为空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">let</span> map <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
            <span class="token keyword">let</span> device <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">let</span> ip <span class="token operator">=</span> i<span class="token punctuation">;</span>
                <span class="token keyword">let</span> error <span class="token operator">=</span> map<span class="token punctuation">[</span>ip<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> broken <span class="token operator">=</span> map<span class="token punctuation">[</span>ip<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                device<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">createData</span><span class="token punctuation">(</span>ip<span class="token punctuation">,</span> error<span class="token punctuation">,</span> broken<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>device<span class="token punctuation">)</span>
            <span class="token function">setDeviceInfos</span><span class="token punctuation">(</span>device<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// DEVICE_INFO = DEVICE;</span>
            <span class="token comment">// setDeviceInfos(DEVICE_INFO);</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求设备信息失败&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">    
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Box</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableContainer</span></span>
                <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">overflowX</span><span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">'relative'</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">,</span>
                                    <span class="token literal-property property">maxWidth</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
                                        <span class="token string-property property">'&amp; td, &amp; th'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">whiteSpace</span><span class="token operator">:</span> <span class="token string">'nowrap'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span>
                    <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableTitle<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        <span class="token string-property property">'&amp; .MuiTableCell-root:first-of-type'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">pl</span><span class="token operator">:</span> <span class="token number">2</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token string-property property">'&amp; .MuiTableCell-root:last-of-type'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">pr</span><span class="token operator">:</span> <span class="token number">3</span>
                            <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OrderTableHead</span></span> <span class="token attr-name">order</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>order<span class="token punctuation">}</span></span> <span class="token attr-name">orderBy</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>orderBy<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableBody</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token punctuation">{</span><span class="token function">stableSort</span><span class="token punctuation">(</span>deviceInfos<span class="token punctuation">,</span> <span class="token function">getComparator</span><span class="token punctuation">(</span>order<span class="token punctuation">,</span> orderBy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">row<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            <span class="token keyword">const</span> isItemSelected <span class="token operator">=</span> <span class="token function">isSelected</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>trackingNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">const</span> labelId <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">enhanced-table-checkbox-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

                            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableRow</span></span>
                                    <span class="token attr-name">hover</span>
                                    <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
                                    <span class="token attr-name">sx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token string-property property">'&amp;:last-child td, &amp;:last-child th'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                                    <span class="token attr-name">aria-checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isItemSelected<span class="token punctuation">}</span></span>
                                    <span class="token attr-name">tabIndex</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span></span>
                                    <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>row<span class="token punctuation">}</span></span>
                                    <span class="token attr-name">selected</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isItemSelected<span class="token punctuation">}</span></span>
                                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>th<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>labelId<span class="token punctuation">}</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                        </span><span class="token punctuation">{</span>row<span class="token punctuation">.</span>deviceId<span class="token punctuation">}</span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>row<span class="token punctuation">.</span>errorNum<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>row<span class="token punctuation">.</span>brokenNum<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableCell</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contained<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleOpen</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>deviceId<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">查询</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableCell</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableRow</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableBody</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Table</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TableContainer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Box</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里同样定义了<code>useEffect</code>函数，与上一个嵌套类似，也是一个 Get 请求</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setDeviceInfos</span><span class="token punctuation">(</span><span class="token constant">DEVICE_INFO</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// detect/resultlist</span>
    <span class="token function">detectResultListService</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求数据为空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> map <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
        <span class="token keyword">let</span> device <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> ip <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">let</span> error <span class="token operator">=</span> map<span class="token punctuation">[</span>ip<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> broken <span class="token operator">=</span> map<span class="token punctuation">[</span>ip<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            device<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">createData</span><span class="token punctuation">(</span>ip<span class="token punctuation">,</span> error<span class="token punctuation">,</span> broken<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>device<span class="token punctuation">)</span>
        <span class="token function">setDeviceInfos</span><span class="token punctuation">(</span>device<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// DEVICE_INFO = DEVICE;</span>
        <span class="token comment">// setDeviceInfos(DEVICE_INFO);</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请求设备信息失败&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以明确的是，组件 OrdersTable 在 detect/index.js 中被调用时，也会触发他自身的钩子函数</p> <h3 id="路由注册"><a href="#路由注册" class="header-anchor">#</a> 路由注册</h3> <p>在 routes 目录下的 index.js 中注册页面路由，<code>/src/routes/index.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token comment">// project import</span>
<span class="token keyword">import</span> LoginRoutes <span class="token keyword">from</span> <span class="token string">'./LoginRoutes'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MainRoutes <span class="token keyword">from</span> <span class="token string">'./MainRoutes'</span><span class="token punctuation">;</span>

<span class="token comment">// ==============================|| ROUTING RENDER </span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">ThemeRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">useRoutes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>MainRoutes<span class="token punctuation">,</span> LoginRoutes<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>/routes/LoginRoutes.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// project import</span>
<span class="token keyword">import</span> Loadable <span class="token keyword">from</span> <span class="token string">'components/Loadable'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MinimalLayout <span class="token keyword">from</span> <span class="token string">'layout/MinimalLayout'</span><span class="token punctuation">;</span>

<span class="token comment">// render - login</span>
<span class="token keyword">const</span> AuthLogin <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/authentication/Login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AuthRegister <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/authentication/Register'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ==============================|| AUTH ROUTING ||==============================</span>

<span class="token keyword">const</span> LoginRoutes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>MinimalLayout <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>AuthLogin <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'register'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>AuthRegister <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LoginRoutes<span class="token punctuation">;</span>
</code></pre></div><p><code>/routes/MainRoutes.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// project import</span>
<span class="token keyword">import</span> Loadable <span class="token keyword">from</span> <span class="token string">'components/Loadable'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MainLayout <span class="token keyword">from</span> <span class="token string">'layout/MainLayout'</span><span class="token punctuation">;</span>

<span class="token comment">// render - dashboard</span>
<span class="token keyword">const</span> DashboardDefault <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// render - sample page</span>
<span class="token keyword">const</span> SamplePage <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/extra-pages/SamplePage'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// render - utilities</span>
<span class="token keyword">const</span> Typography <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/components-overview/Typography'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Color <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/components-overview/Color'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Shadow <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/components-overview/Shadow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AntIcons <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/components-overview/AntIcons'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// block-chain</span>
<span class="token keyword">const</span> Welcome <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/welcome'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AccessControl <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/access-control'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> KeyAgreement <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/key-agreement'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AbnormalTraffic <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/abnormal-traffic'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Trace <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/trace'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Detact <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/detect'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> History <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/detect/history'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ==============================|| MAIN ROUTING ||==============================</span>

<span class="token keyword">const</span> MainRoutes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>MainLayout <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'color'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Color <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'dashboard'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>DashboardDefault <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'access'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>AccessControl <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'auth'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>KeyAgreement <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'detect'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Detact <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token operator">&lt;</span>History <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> MainRoutes<span class="token punctuation">;</span>
</code></pre></div><h3 id="项目启动"><a href="#项目启动" class="header-anchor">#</a> 项目启动</h3> <p>整个页面由<code>/src/App.js</code>启动</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// project import</span>
<span class="token keyword">import</span> Routes <span class="token keyword">from</span> <span class="token string">'routes'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ThemeCustomization <span class="token keyword">from</span> <span class="token string">'themes'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ScrollTop <span class="token keyword">from</span> <span class="token string">'components/ScrollTop'</span><span class="token punctuation">;</span>

<span class="token comment">// ==============================|| APP - THEME, ROUTER, LOCAL  ||============================== //</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeCustomization</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ScrollTop</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Routes</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ScrollTop</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeCustomization</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>调用 Routes 引入路由页面，实现所有页面的加载</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/07/18, 20:18:15</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/25e831/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Vue</div></a> <a href="/pages/f4cad2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Markdown 和 Slidev</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/25e831/" class="prev">Vue</a></span> <span class="next"><a href="/pages/f4cad2/">Markdown 和 Slidev</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/49af8b/"><div>
            H2 和 PostgreSQL
            <!----></div></a> <span class="date">07-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/3e5274/"><div>
            Java 白盒测试和安全编码
            <!----></div></a> <span class="date">7-17</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/aecc6a/"><div>
            基于 MCP 的审计 Agent 实现
            <!----></div></a> <span class="date">6-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:northboat@163.com" title="邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/northboat" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/my/m/music/playlist?id=5123040741" title="音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2025
    <span>Northboat | <a href="https://github.com/Northboat/Northboat.github.io/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="/song/The Sun Also Rises.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:10px;z-index:999999;background-color:blackcadetblue;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="/img/logo.png" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(/img/logo.png);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>太阳照常升起</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>久石譲</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/assets/js/app.d665c284.js" defer></script><script src="/assets/js/3.e0c187c4.js" defer></script><script src="/assets/js/40.f0fb9086.js" defer></script><script src="/assets/js/48.b84b247d.js" defer></script>
  </body>
</html>
