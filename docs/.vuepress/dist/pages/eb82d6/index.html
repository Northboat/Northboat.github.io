<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>处理机调度 | Arkrypto</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3129839_xft6cqs5gc.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <meta name="description" content="My Wiki">
    <meta name="keywords" content="Arkrypto, ComputerScience, DevOps, Crypto">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.0235893d.css" as="style"><link rel="preload" href="/assets/js/app.bd27a176.js" as="script"><link rel="preload" href="/assets/js/3.a94f18cb.js" as="script"><link rel="preload" href="/assets/js/37.75de189e.js" as="script"><link rel="preload" href="/assets/js/47.cdfd9177.js" as="script"><link rel="prefetch" href="/assets/js/10.8477e60e.js"><link rel="prefetch" href="/assets/js/100.d632b7b5.js"><link rel="prefetch" href="/assets/js/101.67f81ef7.js"><link rel="prefetch" href="/assets/js/102.b02ba734.js"><link rel="prefetch" href="/assets/js/103.fc4420a1.js"><link rel="prefetch" href="/assets/js/104.205aa3c0.js"><link rel="prefetch" href="/assets/js/105.dce8fdd7.js"><link rel="prefetch" href="/assets/js/106.23c978cd.js"><link rel="prefetch" href="/assets/js/107.6e764533.js"><link rel="prefetch" href="/assets/js/108.526a1af2.js"><link rel="prefetch" href="/assets/js/109.9fd84f61.js"><link rel="prefetch" href="/assets/js/11.5ccd73c1.js"><link rel="prefetch" href="/assets/js/110.98148360.js"><link rel="prefetch" href="/assets/js/111.ba44e204.js"><link rel="prefetch" href="/assets/js/112.32fddec7.js"><link rel="prefetch" href="/assets/js/113.47711acc.js"><link rel="prefetch" href="/assets/js/114.980d5971.js"><link rel="prefetch" href="/assets/js/115.e17d9d17.js"><link rel="prefetch" href="/assets/js/116.4291aaa1.js"><link rel="prefetch" href="/assets/js/117.361a18f7.js"><link rel="prefetch" href="/assets/js/118.080ae515.js"><link rel="prefetch" href="/assets/js/119.4c74f273.js"><link rel="prefetch" href="/assets/js/12.0917bcfd.js"><link rel="prefetch" href="/assets/js/120.2a9148bd.js"><link rel="prefetch" href="/assets/js/121.efbc8f99.js"><link rel="prefetch" href="/assets/js/122.bf801322.js"><link rel="prefetch" href="/assets/js/123.52e9d08d.js"><link rel="prefetch" href="/assets/js/124.26a4a3a3.js"><link rel="prefetch" href="/assets/js/125.79c6590c.js"><link rel="prefetch" href="/assets/js/126.80116bd2.js"><link rel="prefetch" href="/assets/js/127.f715c037.js"><link rel="prefetch" href="/assets/js/128.27713658.js"><link rel="prefetch" href="/assets/js/129.e00ea18f.js"><link rel="prefetch" href="/assets/js/13.79991dac.js"><link rel="prefetch" href="/assets/js/130.a0309434.js"><link rel="prefetch" href="/assets/js/131.ccea0513.js"><link rel="prefetch" href="/assets/js/132.fe24fe1a.js"><link rel="prefetch" href="/assets/js/133.74b29371.js"><link rel="prefetch" href="/assets/js/134.d003ed07.js"><link rel="prefetch" href="/assets/js/135.fe83c36d.js"><link rel="prefetch" href="/assets/js/136.69d67f46.js"><link rel="prefetch" href="/assets/js/137.133a9f10.js"><link rel="prefetch" href="/assets/js/138.04917011.js"><link rel="prefetch" href="/assets/js/139.48c97281.js"><link rel="prefetch" href="/assets/js/14.642e027b.js"><link rel="prefetch" href="/assets/js/140.b5ab78db.js"><link rel="prefetch" href="/assets/js/141.7c53c63d.js"><link rel="prefetch" href="/assets/js/142.cccb881b.js"><link rel="prefetch" href="/assets/js/143.3a2aa3a6.js"><link rel="prefetch" href="/assets/js/144.77258c13.js"><link rel="prefetch" href="/assets/js/145.f4bae853.js"><link rel="prefetch" href="/assets/js/146.2c9fd7f2.js"><link rel="prefetch" href="/assets/js/147.bc48b0d9.js"><link rel="prefetch" href="/assets/js/148.a0daddf0.js"><link rel="prefetch" href="/assets/js/149.eda26ecd.js"><link rel="prefetch" href="/assets/js/15.cd7ad790.js"><link rel="prefetch" href="/assets/js/150.4db2594d.js"><link rel="prefetch" href="/assets/js/151.ec35f527.js"><link rel="prefetch" href="/assets/js/152.dedb5b4e.js"><link rel="prefetch" href="/assets/js/153.03e67a84.js"><link rel="prefetch" href="/assets/js/154.b658bb97.js"><link rel="prefetch" href="/assets/js/155.cee22805.js"><link rel="prefetch" href="/assets/js/156.87dfc5bd.js"><link rel="prefetch" href="/assets/js/157.b766b494.js"><link rel="prefetch" href="/assets/js/158.91e9b513.js"><link rel="prefetch" href="/assets/js/159.af913df3.js"><link rel="prefetch" href="/assets/js/16.d2a6dbb3.js"><link rel="prefetch" href="/assets/js/160.8f74e4f1.js"><link rel="prefetch" href="/assets/js/161.2b0fbd54.js"><link rel="prefetch" href="/assets/js/162.fa3a77ea.js"><link rel="prefetch" href="/assets/js/163.463efd8a.js"><link rel="prefetch" href="/assets/js/164.b77b3dc1.js"><link rel="prefetch" href="/assets/js/165.558fdecf.js"><link rel="prefetch" href="/assets/js/166.0a5da9d6.js"><link rel="prefetch" href="/assets/js/167.17c07c29.js"><link rel="prefetch" href="/assets/js/168.620a0ac1.js"><link rel="prefetch" href="/assets/js/169.ec2a7b3d.js"><link rel="prefetch" href="/assets/js/17.4c302f4e.js"><link rel="prefetch" href="/assets/js/170.49131b04.js"><link rel="prefetch" href="/assets/js/18.c31129da.js"><link rel="prefetch" href="/assets/js/19.6d5b93bb.js"><link rel="prefetch" href="/assets/js/2.b6ee3443.js"><link rel="prefetch" href="/assets/js/20.1beb06b3.js"><link rel="prefetch" href="/assets/js/21.b4c74136.js"><link rel="prefetch" href="/assets/js/22.15865a0e.js"><link rel="prefetch" href="/assets/js/23.3cf67982.js"><link rel="prefetch" href="/assets/js/24.9049d940.js"><link rel="prefetch" href="/assets/js/25.3f168cc4.js"><link rel="prefetch" href="/assets/js/26.e9038fcc.js"><link rel="prefetch" href="/assets/js/27.09a2b08e.js"><link rel="prefetch" href="/assets/js/28.9756ca4d.js"><link rel="prefetch" href="/assets/js/29.94ccb989.js"><link rel="prefetch" href="/assets/js/30.353a02c4.js"><link rel="prefetch" href="/assets/js/31.dbdeefb3.js"><link rel="prefetch" href="/assets/js/32.bb70211b.js"><link rel="prefetch" href="/assets/js/33.299ebc94.js"><link rel="prefetch" href="/assets/js/34.401699fd.js"><link rel="prefetch" href="/assets/js/35.4225e8c7.js"><link rel="prefetch" href="/assets/js/36.255c8829.js"><link rel="prefetch" href="/assets/js/38.81eeb179.js"><link rel="prefetch" href="/assets/js/39.3a104414.js"><link rel="prefetch" href="/assets/js/4.9878b90e.js"><link rel="prefetch" href="/assets/js/40.d2b04922.js"><link rel="prefetch" href="/assets/js/41.2e5e1b8e.js"><link rel="prefetch" href="/assets/js/42.108017ef.js"><link rel="prefetch" href="/assets/js/43.3fd17956.js"><link rel="prefetch" href="/assets/js/44.b653b4e3.js"><link rel="prefetch" href="/assets/js/45.7147eeef.js"><link rel="prefetch" href="/assets/js/46.3eb438e7.js"><link rel="prefetch" href="/assets/js/48.d7556110.js"><link rel="prefetch" href="/assets/js/49.c1138007.js"><link rel="prefetch" href="/assets/js/5.a99ac687.js"><link rel="prefetch" href="/assets/js/50.12a4ef05.js"><link rel="prefetch" href="/assets/js/51.2b4c86a2.js"><link rel="prefetch" href="/assets/js/52.193ccbe5.js"><link rel="prefetch" href="/assets/js/53.a17c598e.js"><link rel="prefetch" href="/assets/js/54.a82366ee.js"><link rel="prefetch" href="/assets/js/55.77152d87.js"><link rel="prefetch" href="/assets/js/56.44a996cf.js"><link rel="prefetch" href="/assets/js/57.1e686786.js"><link rel="prefetch" href="/assets/js/58.1ff6af32.js"><link rel="prefetch" href="/assets/js/59.3d3d5f85.js"><link rel="prefetch" href="/assets/js/6.f8b187b0.js"><link rel="prefetch" href="/assets/js/60.f4f8142c.js"><link rel="prefetch" href="/assets/js/61.01041b4e.js"><link rel="prefetch" href="/assets/js/62.79bc3aa3.js"><link rel="prefetch" href="/assets/js/63.6217b44f.js"><link rel="prefetch" href="/assets/js/64.b3dfdbdc.js"><link rel="prefetch" href="/assets/js/65.f63b87aa.js"><link rel="prefetch" href="/assets/js/66.43d640bd.js"><link rel="prefetch" href="/assets/js/67.4b87473d.js"><link rel="prefetch" href="/assets/js/68.36a2c347.js"><link rel="prefetch" href="/assets/js/69.643fb43e.js"><link rel="prefetch" href="/assets/js/7.3f85cc50.js"><link rel="prefetch" href="/assets/js/70.033c18af.js"><link rel="prefetch" href="/assets/js/71.5cf1ed3c.js"><link rel="prefetch" href="/assets/js/72.2d3032b5.js"><link rel="prefetch" href="/assets/js/73.e39a774c.js"><link rel="prefetch" href="/assets/js/74.c1bfcdf1.js"><link rel="prefetch" href="/assets/js/75.33202a43.js"><link rel="prefetch" href="/assets/js/76.4434b7b4.js"><link rel="prefetch" href="/assets/js/77.88ebea3f.js"><link rel="prefetch" href="/assets/js/78.77f6a2e9.js"><link rel="prefetch" href="/assets/js/79.0a42f07e.js"><link rel="prefetch" href="/assets/js/8.6845c543.js"><link rel="prefetch" href="/assets/js/80.47d9c4fd.js"><link rel="prefetch" href="/assets/js/81.072a3979.js"><link rel="prefetch" href="/assets/js/82.3259ebfd.js"><link rel="prefetch" href="/assets/js/83.270310b5.js"><link rel="prefetch" href="/assets/js/84.2e0368c9.js"><link rel="prefetch" href="/assets/js/85.a757312b.js"><link rel="prefetch" href="/assets/js/86.ba5d7ea8.js"><link rel="prefetch" href="/assets/js/87.180d1a07.js"><link rel="prefetch" href="/assets/js/88.351d51bc.js"><link rel="prefetch" href="/assets/js/89.d0f5629b.js"><link rel="prefetch" href="/assets/js/9.3351a795.js"><link rel="prefetch" href="/assets/js/90.990cf8ae.js"><link rel="prefetch" href="/assets/js/91.99bfa2df.js"><link rel="prefetch" href="/assets/js/92.d3733be5.js"><link rel="prefetch" href="/assets/js/93.08f327fb.js"><link rel="prefetch" href="/assets/js/94.9f2eef3e.js"><link rel="prefetch" href="/assets/js/95.8ff0375e.js"><link rel="prefetch" href="/assets/js/96.a7997eb8.js"><link rel="prefetch" href="/assets/js/97.a3cb5d37.js"><link rel="prefetch" href="/assets/js/98.caad23c5.js"><link rel="prefetch" href="/assets/js/99.3704a8c0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0235893d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Arkrypto" class="logo"> <span class="site-name can-hide">Arkrypto</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/cs/" class="nav-link">计算机科学与技术</a></div><div class="nav-item"><a href="/dev/" class="nav-link">开发与运维</a></div><div class="nav-item"><a href="/sec/" class="nav-link">网络与信息安全</a></div><div class="nav-item"><a href="/mine/" class="nav-link">我的</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/Arkrypto" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>Arkrypto</h3> <span>就在坚冰还盖着北海的时候，我看到了怒放的梅花</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/cs/" class="nav-link">计算机科学与技术</a></div><div class="nav-item"><a href="/dev/" class="nav-link">开发与运维</a></div><div class="nav-item"><a href="/sec/" class="nav-link">网络与信息安全</a></div><div class="nav-item"><a href="/mine/" class="nav-link">我的</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/Arkrypto" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>组成原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>计网与操作系统</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>计算机网络基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>操作系统基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/6cdab9/" class="sidebar-link">操作系统绪论</a></li><li><a href="/pages/489108/" class="sidebar-link">进程与线程</a></li><li><a href="/pages/eb82d6/" aria-current="page" class="active sidebar-link">处理机调度</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/eb82d6/#调度的基本概念" class="sidebar-link">调度的基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#作业调度" class="sidebar-link">作业调度</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#交换调度" class="sidebar-link">交换调度</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#进程调度" class="sidebar-link">进程调度</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#操作系统中作业和进程的关系" class="sidebar-link">操作系统中作业和进程的关系</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#调度的任务和基本准则" class="sidebar-link">调度的任务和基本准则</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb82d6/#调度的目的" class="sidebar-link">调度的目的</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#批处理系统目标" class="sidebar-link">批处理系统目标</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#分时系统目标" class="sidebar-link">分时系统目标</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#实时系统的目标" class="sidebar-link">实时系统的目标</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb82d6/#调度的实现" class="sidebar-link">调度的实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#调度器和调度程序" class="sidebar-link">调度器和调度程序</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#调度的时机和切换" class="sidebar-link">调度的时机和切换</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#闲逛进程" class="sidebar-link">闲逛进程</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#调度实现方式" class="sidebar-link">调度实现方式</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#用户级线程调度" class="sidebar-link">用户级线程调度</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#内核级线程调度" class="sidebar-link">内核级线程调度</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb82d6/#典型调度算法" class="sidebar-link">典型调度算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#先来先服务调度算法" class="sidebar-link">先来先服务调度算法</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#短进程优先调度算法" class="sidebar-link">短进程优先调度算法</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#时间片轮转调度算法" class="sidebar-link">时间片轮转调度算法</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#高相应比优先调度算法" class="sidebar-link">高相应比优先调度算法</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#优先级调度算法" class="sidebar-link">优先级调度算法</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#多队列调度算法" class="sidebar-link">多队列调度算法</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#多级反馈队列调度算法" class="sidebar-link">多级反馈队列调度算法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb82d6/#上下文及其切换机制" class="sidebar-link">上下文及其切换机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#上下文的概念" class="sidebar-link">上下文的概念</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#进程切换机制" class="sidebar-link">进程切换机制</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb82d6/#切换操作及流程" class="sidebar-link">切换操作及流程</a></li></ul></li></ul></li><li><a href="/pages/a3a8f4/" class="sidebar-link">同步与互斥</a></li><li><a href="/pages/c58d45/" class="sidebar-link">死锁</a></li><li><a href="/pages/821135/" class="sidebar-link">实存管理</a></li><li><a href="/pages/981cf0/" class="sidebar-link">虚存管理</a></li><li><a href="/pages/d74a39/" class="sidebar-link">文件管理</a></li><li><a href="/pages/875357/" class="sidebar-link">经典操作系统算法实现</a></li><li><a href="/pages/e55f25/" class="sidebar-link">操作系统（二）</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>汇编程序设计与编译原理</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/cs/#计算机科学与技术" data-v-06970110>计算机科学与技术</a></li><li data-v-06970110><a href="/cs/#计网与操作系统" data-v-06970110>计网与操作系统</a></li><li data-v-06970110><a href="/cs/#操作系统基础" data-v-06970110>操作系统基础</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/Arkrypto" target="_blank" title="作者" class="beLink" data-v-06970110>Arkrypto</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2022-10-21</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">处理机调度<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="调度的基本概念"><a href="#调度的基本概念" class="header-anchor">#</a> 调度的基本概念</h2> <p>内存中存在多个运行实体（进程），而 CPU 数量有限（资源不足）无法真正使其并行，于是我们就要挑进程进行执行，令其他进程处于准备执行的状态（就绪），操作系统需要通过调度程序为各进程分配所需资源</p> <p>调度分为以下三种级别</p> <h3 id="作业调度"><a href="#作业调度" class="header-anchor">#</a> 作业调度</h3> <p>又称为高级调度，作业，指用户交给操作系统的一个独立任务，由若干作业步构成，往往上一个作业步的输出是下一个作业步的输入</p> <p>作业调度概述</p> <ul><li>调度单位：作业</li> <li>特点：运行频率较低，可选择较复杂的调度算法（因为用的少）</li> <li>作业控制块（一个复杂的表格 JCB）：作业注册程序，作业后备队列，等待作业调度程序调入</li></ul> <p>不同操作系统的高级调度方法不同</p> <p>批处理系统</p> <ul><li>选择作业</li> <li>分配资源</li> <li>创建进程：进入进程就绪队列</li> <li>作业控制：启动、衔接、异常处理</li> <li>回收资源</li></ul> <p>分时系统和实时系统：为及时响应，作业直接送入内存，不需要作业调度</p> <h3 id="交换调度"><a href="#交换调度" class="header-anchor">#</a> 交换调度</h3> <p>也称为内存调度或中级调度，将暂时不具备运行条件的进程挂起，释放资源，并将进程 PCB 调至外存或内存挂起队列，令其处于<strong>驻外存状态或挂起状态</strong>，直到内存空闲区满足挂起状态的某进程需求时，调度算法将外存上的挂起进程重新调入内存</p> <p>注意，被挂起的进程状态可能是就绪，也可能是阻塞，当被转换至外存后统一处于挂起状态（静止就绪或静止阻塞），不能参与低级调度（进程调度）</p> <p>交换调度概述</p> <ul><li>应用背景：小内存，大作业，无法放入作业</li> <li>目的：提高内存利用率、提高系统吞吐量、短期平滑和调整系统负荷</li> <li>使用频率居中</li></ul> <h3 id="进程调度"><a href="#进程调度" class="header-anchor">#</a> 进程调度</h3> <p>也叫低级调度、线程调度、处理机调度，是最基本的调度，是所有 OS 的核心功能，是多道操作系统的基础</p> <p>进程调度概述</p> <ul><li>调度单位：进程 / 线程</li> <li>使用频率高，通常选用简单的调度算法</li> <li>主要任务：为就绪进程 / 线程分配处理机，使其处于运行状态</li></ul> <p>低级调度的任务：注意他并不创建进程（由作业调度创建），只调度进程</p> <ul><li>保存当前进程 / 线程信息，如 PC 内容、程序状态字等</li> <li>调度算法从就绪队列调度某一进程</li> <li>将处理机分配给这一进程</li></ul> <p>进程调度机制如图所示</p> <img src="/assets/img/QQ截图20221021174928.c2074354.png"> <ul><li>排队器：将系统所有的就绪进程按一定方式排列成一个或多个队列</li> <li>分派器：将进程调度程序选定的进程从就绪队列取出，进行上下文切换，将 CPU 分配给新进程</li> <li>上下文切换器：进行两次切换，第一次将当前程序保存，装入分派程序的上下文；第二次为将新进程的上下文装入 CPU 相应寄存器
<ul><li>这里的上下文切换非常耗资源</li></ul></li></ul> <h3 id="操作系统中作业和进程的关系"><a href="#操作系统中作业和进程的关系" class="header-anchor">#</a> 操作系统中作业和进程的关系</h3> <h4 id="批处理系统"><a href="#批处理系统" class="header-anchor">#</a> 批处理系统</h4> <p>作业是进程的任务实体，进程是作业的执行实体，没有作业进程将不存在、虚无，没有进程作业将无法完成</p> <ul><li>任务是考高分，作业是学习各学科</li></ul> <p>作业多用于批处理操作系统，面向外存；进程用于多道程序设计，面向内存</p> <p>作业的三阶段四状态</p> <ul><li>收容阶段：提交状态、后备状态
<ul><li>提交任务，由输入设备预输入</li> <li>输入结束，调入后备队列（外存）</li></ul></li> <li>运行阶段：执行状态</li> <li>完成阶段：完成状态</li></ul> <h4 id="分时操作系统"><a href="#分时操作系统" class="header-anchor">#</a> 分时操作系统</h4> <p>每个终端的一次提交是一个作业交互，可以是提交一个作业，也可以是一个作业步</p> <h3 id="调度的任务和基本准则"><a href="#调度的任务和基本准则" class="header-anchor">#</a> 调度的任务和基本准则</h3> <p>进程调度：为当前要执行的进程分配处理机（CPU）</p> <p>作业调度</p> <ul><li>根据 JCB 检查系统资源及作业需求；按照某种调度算法从作业后备队列选取满足资源的若干作业调入内存，并为内存中的作业创建进程，分配必要资源；将进程插入进程就绪队列，等待进程调度，使之执行</li> <li>需要决定
<ul><li>接纳多少作业（取决于多道度）：系统规模、运行速度、作业大小、系统性能</li> <li>接纳哪些作业（取决于调度算法）：分时、实时系统无需作业调度，但需要某种接纳措施控制进入系统的用户数</li></ul></li></ul> <p>调度的基本准则</p> <p>面向用户</p> <ul><li>周转时间：尽量短</li> <li>相应时间：尽量快</li> <li>截止时间：尽量满足</li> <li>优先权准则：对不同任务设定优先权，并对优先级高的任务动态调度，以保证紧急任务及时处理。如实时系统采用<strong>抢占式调度方式</strong></li></ul> <p>面向系统</p> <ul><li>吞吐量大：单位时间内完成的作业数尽量多</li> <li>CPU 利用率高：单位时间内 CPU 处于忙碌状态的时间占比尽量高，在单用户系统和实时系统中，该准则并不重要，更在意实时性</li> <li>系统资源平衡利用</li> <li>公平性</li></ul> <p>各级调度区别</p> <table><thead><tr><th>调度级别</th> <th>调度算法复杂度</th> <th>使用频率</th> <th>必备</th></tr></thead> <tbody><tr><td>低级调度（进程调度）</td> <td>低</td> <td>高</td> <td>是</td></tr> <tr><td>中继调度（交换调度）</td> <td>中</td> <td>中</td> <td>可选</td></tr> <tr><td>高级调度（作业调度）</td> <td>高</td> <td>低</td> <td>有或无</td></tr></tbody></table> <p>各操作系统调度存在情况</p> <table><thead><tr><th>操作系统</th> <th>低级调度</th> <th>中继调度</th> <th>高级调度</th></tr></thead> <tbody><tr><td>多道批处理系统</td> <td>有</td> <td>可选</td> <td>有</td></tr> <tr><td>分时系统</td> <td>有</td> <td>引入</td> <td>一般无</td></tr> <tr><td>实时系统</td> <td>有</td> <td>可选</td> <td>无</td></tr></tbody></table> <p>注意在多处理机情况下，调度并不负责为进程选择合适的 CPU，只是分配（分配 != 选择）</p> <h2 id="调度的目的"><a href="#调度的目的" class="header-anchor">#</a> 调度的目的</h2> <p>不同类型操作系统调度算法的目的不同</p> <p>CPU 利用率 = CPU 有效工作时间 / (有效工作时间 + 空闲时间)</p> <img src="/assets/img/截图_2022-10-22_09-50-17.47b39046.png"> <p>处理机调度的共同目标如下</p> <ul><li>资源利用率高：尽可能忙碌</li> <li>公平性：合理分配 CPU 时间</li> <li>平衡性：合理调度，使使用均衡</li> <li>策略执行性强</li></ul> <h3 id="批处理系统目标"><a href="#批处理系统目标" class="header-anchor">#</a> 批处理系统目标</h3> <p>平均周转时间短：作业从提交（外存到内存）到完成</p> <ul><li>等待作业调度时间</li> <li>就绪队列等待时间</li> <li>执行时间</li> <li>等待 IO 时间</li></ul> <p>作业希望自己的周转时间最短（贪婪），操作系统则要考虑平均周转最短，使大多数用户满意，提高系统资源利用率</p> <p>带权周转时间：周转时间（任务结束时间 - 任务到达时间）比上执行时间（整个时间比上占用 CPU 比例）；越大，说明 CPU 占用越少</p> <mjx-container jax="SVG" display="true" class="MathJax" style="direction:ltr;display:block;text-align:center;margin:1em 0;position:relative;"><svg xmlns="http://www.w3.org/2000/svg" width="12.481ex" height="4.97ex" role="img" focusable="false" viewBox="0 -1353 5516.7 2196.8" aria-hidden="true" style="overflow:visible;min-height:1px;min-width:1px;vertical-align:-1.909ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(617,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(716,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1182,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1527,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(2004,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(2580,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(3024.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(4080.2,0)"><g data-mml-node="mi" transform="translate(366.3,676)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" style="stroke-width:3;"></path></g></g><rect width="1196.5" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top:0px;left:0px;clip:rect(1px, 1px, 1px, 1px);-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;padding:1px 0px 0px 0px;border:0px;display:block;overflow:hidden;width:100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>T</mi><mrow data-mjx-texclass="ORD"><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mi>T</mi><msub><mi>T</mi><mi>e</mi></msub></mfrac></math></mjx-assistive-mml></mjx-container><p>系统吞吐量高：短作业优先，追求处理更多的作业，以提高吞吐量（单位时间内完成作业数量）</p> <p>处理机利用率高：大作业优先，CPU 占用时间长</p> <h3 id="分时系统目标"><a href="#分时系统目标" class="header-anchor">#</a> 分时系统目标</h3> <p>分时系统最大的目的：交互性</p> <p>响应时间快：分时操作系统调度算法的主要准则</p> <ul><li>请求时间</li> <li>处理时间</li> <li>回送时间</li></ul> <p>均衡性：尽可能保持均衡，大任务用时稍长可以接受</p> <h3 id="实时系统的目标"><a href="#实时系统的目标" class="header-anchor">#</a> 实时系统的目标</h3> <p>截止时间的保证：主要目的，确定作业必须完成的最迟时间</p> <ul><li>硬实时周期任务：必须确保截止时间</li> <li>软实时周期任务：基本保证截止时间（可稍延迟）</li></ul> <p>可预测性：如视频处理的第 i 帧和 i+1 帧具有连续性，由此可以压缩所需存储的数据规模</p> <h2 id="调度的实现"><a href="#调度的实现" class="header-anchor">#</a> 调度的实现</h2> <h3 id="调度器和调度程序"><a href="#调度器和调度程序" class="header-anchor">#</a> 调度器和调度程序</h3> <blockquote><p>scheduler</p></blockquote> <p>从多个任务中选取若干任务合理分配资源，使其在微观（并行）或宏观（并发）上同时执行，提高系统资源利用率和吞吐量</p> <p>调度器常包含三部分内容</p> <ul><li>数据结构：存储任务的必要信息，为调度服务</li> <li>上下文：为切换提供参数，包含
<ul><li>用户地址空间：程序代码、数据和用户堆栈等</li> <li>控制信息：进程描述符、内存堆栈等</li> <li>硬件上下文：重要寄存器的内容</li></ul></li> <li>虚拟时钟：为算法提供时钟标准</li></ul> <h3 id="调度的时机和切换"><a href="#调度的时机和切换" class="header-anchor">#</a> 调度的时机和切换</h3> <p>处理中断、处于操作系统内核临界区、正在处理原子操作、正在执行原语时将暂缓调度，其余时间，任何请求调度的事件发生都有可能除法调度程序运行</p> <p>调度时机</p> <ul><li>系统调用结束</li> <li>中断或陷入处理结束：意外处理完毕</li> <li>主动：进程执行完毕或执行发生异常；进程执行过程中请求外设操作</li> <li>被动：进程时间片用完；抢占方式下遇到优先级更高的进程进入</li></ul> <p>切换指处理机占用者发生变化，即 PC 中的内容变为其他程序中的指令地址，正占用者放弃处理机，唤醒调度程序，使其运行新的占用该处理机的进程</p> <p>非抢占式 / 非剥夺式：只有运行结束或因 IO 阻塞时，正运行程序才会释放处理机，适用于批处理系统</p> <p>其引起进程调度的因素如下</p> <ul><li>进程运行完毕</li> <li>进程因 IO 请求暂停执行</li> <li>进程无法执行</li> <li>通讯过程中执行了某原语，导致其停止执行</li></ul> <p>非抢占式调度特点</p> <ul><li>优点：实现简单，系统开销小</li> <li>缺点：无法满足重要或紧迫任务的需求，很难满足交互性作业和实时性需求</li> <li>适用于大多数批处理系统，不适用于分时系统和大多数实时系统</li></ul> <p>注意在非抢占式调度中，即使优先级最高，也不一定被及时调度，触发进程调度程序</p> <p>抢占式 / 剥夺式：正在执行进程可被动让出处理机</p> <ul><li>优先级原则：为紧迫作业赋予较高优先级</li> <li>短进程优先原则：占用 CPU 时间短的作业优先级较高</li> <li>时间片原则：作业的时间片用完后，将自动执行下一个任务</li></ul> <p>抢占式调度特点</p> <ul><li>优点：系统相应快，吞吐量大，资源利用率高，能够满足重要、紧迫任务的需求</li> <li>准则：优先权；基于时间片；短进程优先</li></ul> <h3 id="闲逛进程"><a href="#闲逛进程" class="header-anchor">#</a> 闲逛进程</h3> <p>0 号进程，优先级最低，抢占式下很容易被剥夺 CPU，由内核初始化函数创建，就绪队列为空时，CPU 执行闲逛进程，可以省电并减少产热</p> <h3 id="调度实现方式"><a href="#调度实现方式" class="header-anchor">#</a> 调度实现方式</h3> <p>可以由操作系统完成，也可以由用户程序完成，前者更快，后者灵活性更高</p> <h3 id="用户级线程调度"><a href="#用户级线程调度" class="header-anchor">#</a> 用户级线程调度</h3> <p>用户程序通过线程函数库创建的线程，运行于用户状态（如 JAVA 的 Tread，C3P0 线程池），对操作系统透明（没有 PCB、TCB）</p> <p>用户级线程的调度算法由用户自己变写，操作系统进行进程调度，线程的调度无需内核参与</p> <p>特点</p> <ul><li>优点：控制简单，易扩展，无需切换内核，开销较小</li> <li>缺点：进程是资源调度单位，用户线程进行请求时只能请求单个进程资源，这意味着多个线程只能运行在同一进程（处理机），并且，当进程中某线程阻塞时，整个进程可能会被阻塞（线程调度算法可以被用户重写以处理单个线程阻塞切换其他线程的情况）</li></ul> <h3 id="内核级线程调度"><a href="#内核级线程调度" class="header-anchor">#</a> 内核级线程调度</h3> <p>由操作系统实现，位于内核空间，运行于核心状态，通过线程控制快 TCB 进行控制</p> <p>通过系统调用创建新鲜成，并由 OS 对线程表进行更新，一个进程的多个线程可以同时运行在多个 CPU 上，实现并行，各自不会相互阻塞</p> <p>需要不断从内核态到用户态切换，需要额外开销</p> <h2 id="典型调度算法"><a href="#典型调度算法" class="header-anchor">#</a> 典型调度算法</h2> <p>调度算法的选择取决于操作系统的类型和设计目标（算法即流程）</p> <h3 id="先来先服务调度算法"><a href="#先来先服务调度算法" class="header-anchor">#</a> 先来先服务调度算法</h3> <blockquote><p>First Come First Served, FCFS</p></blockquote> <p>以等待时间为优先级，属于不可抢占的调度方式，进程、线程、作业调用都可适用</p> <p>进程 / 线程调度的 FCFS：将处理机分配给就绪队列队头的进程，使其处于执行态</p> <p>作业调度的 FCFS：从外存后备队列的队头开始，选择一个或多个作业进入后备队列且资源能够得到满足的作业调入内存，为他们分配资源、创建进程并插入就绪队列</p> <p>特点：不会出现饥饿现象 —— 即早早进入队列且资源能够满足，但一直得不到执行的情况</p> <img src="/assets/img/QQ截图20221023135601.1497328c.png"> <ul><li>带权周转时间越大，说明安排的越不合理（执行一小会儿，等</li> <li>平均周转时间、平均带权周转时间简单取均值即可</li></ul> <h3 id="短进程优先调度算法"><a href="#短进程优先调度算法" class="header-anchor">#</a> 短进程优先调度算法</h3> <blockquote><p>Short Process First, SPF</p></blockquote> <p>谁占用 CPU 的相对时间短，谁优先级高，相对指<code>运行时间/计算时间</code>，但在实际计算中看进程的<strong>服务时间</strong>即可，适用于进程调度和作业调用</p> <p>特点</p> <ul><li>可能出现饥饿现象</li> <li>没有考虑紧迫作业的需求</li> <li>必须预知作业的运行时长，这并不容易估计</li> <li>不利于运行 时间长的作业</li></ul> <h3 id="时间片轮转调度算法"><a href="#时间片轮转调度算法" class="header-anchor">#</a> 时间片轮转调度算法</h3> <p>分时操作系统为保证用户请求响应的及时性，采用简单的时间片轮转调度算法，90 年代广泛采用多级反馈队列调度算法</p> <p>基本原理</p> <ul><li>OS 将所有就绪进程按 FCFS 排成一个队列</li> <li>将 CPU 分给队首进程，令其执行一个时间片</li> <li>时间片用完立即停止该进程，将其插入队尾</li> <li>重复操作，直至所有进程执行完毕</li></ul> <p>当队列为空执行零号闲逛进程，用于省电</p> <p>进程切换时机</p> <ul><li>时间片未用完，进程执行完毕，进行进程切换，立即启动一个新的时间片</li> <li>时间片用完，进程未用完，进行进程切换，启动一个新的时间片</li></ul> <p>时间片大小的确定：</p> <ul><li>时间片小利于短进程运行，对于大进程增加了进程调度和上下文切换的开销</li> <li>大时间片利于长作业运行，算法可能退化为 FCFS</li> <li>可行方法为：时间片略大于一次典型交互时间</li></ul> <p>特点：确保就绪队列所有进程在一定时间内均能获得一个时间片；系统在给定时间内能够响应所有用户请求</p> <ul><li>实际上执行顺序和服务时长保持一致，越短越早执行完</li> <li>短的进程会先结束，长的进程也不会发生饥饿</li></ul> <p>轮转算法的推导过程非常繁琐，一定要捋清关系，慢慢算</p> <h3 id="高相应比优先调度算法"><a href="#高相应比优先调度算法" class="header-anchor">#</a> 高相应比优先调度算法</h3> <p>相应比 = (等待时间+运行时间) / 运行时间 = 1 + 等待时间 / 运行时间 = 响应时间 / 运行时间</p> <ul><li>等待时间越长，优先级越高</li></ul> <p>缺点：每次调度之前均需计算相应比，增加系统开销</p> <p>优点</p> <ul><li>对于不同进程实现了较好的这种</li> <li>等待时间相同，运行时间越短越先执行，有利于短任务调度</li> <li>运行时间相同，等待时间越长越先执行，类似于先来先服务调度</li></ul> <p>每当一个任务结束后，队列中所有任务的等待时间都需要更新一次（服务时间不变），做题时要手动更新并计算出相应比最大的一个任务，作为下一个执行任务</p> <h3 id="优先级调度算法"><a href="#优先级调度算法" class="header-anchor">#</a> 优先级调度算法</h3> <blockquote><p>Priority Scheduling Algorithm, PSA</p></blockquote> <p>调度优先级最高的进程进行执行，可能出现饥饿现象，适用于批处理操作系统和实时操作系统</p> <p>分为动态优先级和静态优先级，也分为抢占式和非抢占式</p> <ul><li>非抢占式必须要等待当前任务执行完毕才可以执行优先级最高的任务</li></ul> <p>动态优先级：优先级在创建进程时就赋予，在排队过程中，各进程的优先级是可以动态改变的</p> <ul><li>适用于批处理和实时系统，分时系统需要抢占式调度</li> <li>复杂，系统开销大</li></ul> <p>静态优先级：每个进程在创建时被赋予的优先级不可变</p> <p>确定的优先级的依据</p> <ul><li>进程类型</li> <li>进程对资源的需求</li> <li>用户要求</li></ul> <p>栗子一：静态优先级的非抢占式实例</p> <img src="/assets/img/QQ截图20221023145232.7d467625.png"> <p>栗子二：静态优先级的抢占式实例</p> <img src="/assets/img/QQ截图20221023145506.dd62fa22.png"> <img src="/assets/img/QQ截图20221023145537.db0dc16d.png"> <h3 id="多队列调度算法"><a href="#多队列调度算法" class="header-anchor">#</a> 多队列调度算法</h3> <p>系统中设置多个队列，每个队列可以使用不同的调度算法，各个队列之间有队列的优先级，在调度时，先根据队列的优先级确定队列，再根据队列具体的调度方式从当前队列中调度进程/作业</p> <p>在多处理机系统中</p> <ul><li>可以为每个处理机设置一个就绪队列</li> <li>不同处理机可采用不同的调度策略</li> <li>可将一个进程的多个线程分配在一个处理机上</li> <li>可将一组需要合作的进程或线程分配到一组处理机对应的多个就绪队列，使其并行处理作业</li></ul> <h3 id="多级反馈队列调度算法"><a href="#多级反馈队列调度算法" class="header-anchor">#</a> 多级反馈队列调度算法</h3> <blockquote><p>非常复杂捏，有可能考到</p></blockquote> <p>工作原理</p> <ul><li>设置多个就绪队列，一队列优先级高于二队列，二高于三，以此类推</li> <li>在每个队列内，采用时间片轮转调度算法，队列优先级越高，时间片越小</li> <li>当第 i 队列中，某一进程的时间片用完，且进程未完成，将加至第 i+1 个队列的队尾，直到该进程完成</li> <li>初始时进程将加至一队列队尾，所有进程都遵循以上规则直至所有任务完成</li></ul> <p>注意：只有当第 i 队列前的所有队列均空时，第 i 个队列才能执行其队头进程，这也是队列优先级的含义</p> <p>优点：</p> <ul><li>性能很好，能满足各种类型用户需要</li> <li>终端型作业，大多属于较小的交互型作业</li> <li>短批处理作业用户：周转时间仍较短，至多在 2-3 队列完成</li> <li>长批处理用户：不会饥饿，总会完成</li></ul> <p>调度算法比较</p> <table><thead><tr><th>调度算法</th> <th>可抢占</th> <th>不可抢占</th> <th>优点</th> <th>缺点</th> <th>适用</th> <th>能否用于作业调度</th> <th>能否用于进程调度</th></tr></thead> <tbody><tr><td>先来先服务</td> <td>0</td> <td>1</td> <td>公平；简单；利于 CPU 繁忙型</td> <td>不利于短作业和 IO 繁忙型服务</td> <td></td> <td>1</td> <td>1</td></tr> <tr><td>短作业优先</td> <td>1</td> <td>1</td> <td>平均等待时间最少，效率最高</td> <td>长作业可能饥饿；估计时间不易确定；未考虑紧迫程度</td> <td>作业调度批处理系统</td> <td>1</td> <td>1</td></tr> <tr><td>高响应比优先</td> <td>1</td> <td>1</td> <td>兼顾长短作业</td> <td>计算响应比开销较大（每执行一个进程都需要重新计算所有入队进程的等待时间）</td> <td></td> <td>1</td> <td>1</td></tr> <tr><td>时间片轮转</td> <td>1</td> <td>1</td> <td>兼顾长短作业</td> <td>平均等待时间较长；上下文切换开销较大</td> <td>分时系统</td> <td>0</td> <td>1</td></tr> <tr><td>多级反馈队列</td> <td>1</td> <td>0</td> <td>兼顾长短作业；响应时间较短；综合效率高</td> <td>同样存在计算开销</td> <td>通用</td> <td>0</td> <td>1</td></tr></tbody></table> <p>这里要注意的是：多级反馈的抢占不同于优先级调度的抢占，他是优先级高的队列中进程抢占队列优先级低的进程，他的抢占必须发生在<strong>本次时间片执行结束或进程提前时间片结束</strong>，而优先级调度的抢占可以发生在进程执行期间</p> <h2 id="上下文及其切换机制"><a href="#上下文及其切换机制" class="header-anchor">#</a> 上下文及其切换机制</h2> <h3 id="上下文的概念"><a href="#上下文的概念" class="header-anchor">#</a> 上下文的概念</h3> <p>主要包含运行状态进程的以下内容，存储于 CPU 内；其他进程的相应内容存储于进程的私有堆栈中</p> <ul><li>用户地址空间：包括程序代码、数据、用户堆栈等</li> <li>控制信息：进程描述符、内核堆栈等</li> <li>硬件上下文：上下文寄存器、处理机的各寄存器内存
<ul><li>程序计数器 PC：下一条指令的地址 ——&gt; 自动执行</li> <li>程序状态字寄存器 PSW</li> <li>栈顶指针寄存器 SP：切换离不开堆栈</li> <li>其他寄存器：如累加器 ALL</li></ul></li></ul> <h3 id="进程切换机制"><a href="#进程切换机制" class="header-anchor">#</a> 进程切换机制</h3> <p>上下文切换，又称任务切换或进程切换，指回收 CPU，将其分配给新进程，使新进程处于执行状态的操作，内核挂起正在 CPU 上运行的进程，转去执行其他进程的过程，通过进程切换可以控制进程的执行</p> <p>进程切换的流程如下</p> <ul><li>保护现场：保存原进程当前断点的现场信息 —— 将信息保存到当前进程内核栈，更新栈顶指针</li> <li>切换进程：将新进程现场信息装入新进程内核栈，更新当前运行进程空间指针</li> <li>运行新进程</li></ul> <p>注意切换的过程中禁止中断，需要保存并更新重要寄存器的值，不能乱</p> <h3 id="切换操作及流程"><a href="#切换操作及流程" class="header-anchor">#</a> 切换操作及流程</h3> <p>切换操作</p> <img src="/assets/img/QQ截图20221024140300.6b6e8464.png"> <p>切换流程</p> <ul><li>保存处理机上下文
<ul><li>PCB 入栈：SP 存入当前执行状态进程的 PCB</li> <li>PC、PSW 及其他寄存器的值存入当前执行状态进程的私有栈</li></ul></li> <li>更新 PCB 队列，将当前进程 PCB 移出至相应队列队尾（阻塞入阻塞队列，就绪入就绪队列）</li> <li>通过进程调度程序选择新进程，分配处理机，更新其 PCB</li> <li>更新系统数据结构</li> <li>更新处理机上下文
<ul><li>从 PCB 表中获取其 SP 值，存入栈顶指针 SP</li> <li>从私有栈中获取 PC、PSW 及其他寄存器的值，存入 CPU 的相应寄存器中</li></ul></li></ul> <p>进程切换是多任务、多用户操作系统的基本功能；进程切换可能发生于中断、系统调用处理过程中（现行程序 ——&gt; 中断服务程序的过程）；进程切换会导致两个进程的 PCB 内容发生变化；进程切换具有代价，过于频繁的调度和切换会降低系统效率</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/06/18, 23:50:08</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/489108/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">进程与线程</div></a> <a href="/pages/a3a8f4/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">同步与互斥</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/489108/" class="prev">进程与线程</a></span> <span class="next"><a href="/pages/a3a8f4/">同步与互斥</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/706b77/"><div>
            先进数据库技术（二）
            <!----></div></a> <span class="date">6-20</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/aecc6a/"><div>
            Java 静态代码分析
            <!----></div></a> <span class="date">6-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/2ce9d5/"><div>
            基于可擦除签名的权限切换协议
            <!----></div></a> <span class="date">6-5</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:Arkrypto@qq.com" title="邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Arkrypto" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/my/m/music/playlist?id=5123040741" title="音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2025
    <span>Arkrypto | <a href="https://github.com/Arkrypto/Arkrypto.github.io/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="/song/The Sun Also Rises.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:10px;z-index:999999;background-color:blackcadetblue;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="/img/logo.png" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(/img/logo.png);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>太阳照常升起</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>久石譲</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/assets/js/app.bd27a176.js" defer></script><script src="/assets/js/3.a94f18cb.js" defer></script><script src="/assets/js/37.75de189e.js" defer></script><script src="/assets/js/47.cdfd9177.js" defer></script>
  </body>
</html>
